2025-09-29 13:50:54 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication using Java 20.0.1 with PID 5752 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/classes started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 13:50:54 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 13:50:54 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 13:50:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 13:50:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 13:50:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 77 ms. Found 6 JPA repository interfaces.
2025-09-29 13:50:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 13:50:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 13:50:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 Neo4j repository interfaces.
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 JDBC repository interfaces.
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 13:50:55 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 Neo4j repository interfaces.
2025-09-29 13:50:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 13:50:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 13:50:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 13:50:55 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 13:50:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1026 ms
2025-09-29 13:50:55 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 13:50:55 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 13:50:55 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 13:50:55 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 13:50:55 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 13:50:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 13:50:56 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@2ba318c2
2025-09-29 13:50:56 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 13:50:56 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 13:50:56 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 13:50:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    create table flight_instance (
        id bigint generated by default as identity,
        arrival_time timestamp(6) with time zone not null,
        created_at timestamp(6) with time zone not null,
        departure_time timestamp(6) with time zone not null,
        destination varchar(255) not null,
        flight_no varchar(255) not null,
        price_money bigint not null,
        source varchar(255) not null,
        updated_at timestamp(6) with time zone,
        primary key (id)
    )
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    create table outbox_event (
        id bigint generated by default as identity,
        attempts integer not null,
        created_at timestamp(6) with time zone not null,
        dispatched_at timestamp(6) with time zone,
        event_id uuid not null,
        max_retries integer not null,
        payload jsonb not null,
        status varchar(255) not null check (status in ('PENDING','DISPATCHED','FAILED')),
        topic varchar(255) not null,
        primary key (id)
    )
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    create table seat (
        id bigint generated by default as identity,
        cabin_class varchar(255),
        is_available boolean not null,
        seat_no varchar(255) not null,
        version integer not null,
        flight_instance_id bigint not null,
        primary key (id)
    )
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    create table seat_hold (
        id bigint generated by default as identity,
        created_at timestamp(6) with time zone not null,
        expires_at timestamp(6) with time zone not null,
        holder_session_id varchar(255) not null,
        version integer not null,
        flight_instance_id bigint not null,
        seat_id bigint not null,
        primary key (id)
    )
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    create table ticket (
        id bigint generated by default as identity,
        created_at timestamp(6) with time zone not null,
        holder_user_id bigint,
        payment_id varchar(255),
        session_id varchar(255) not null,
        status varchar(255) not null check (status in ('CONFIRMED','IN_PROGRESS','CANCELLED','REFUNDED')),
        total_amount bigint not null,
        version integer not null,
        flight_instance_id bigint,
        primary key (id)
    )
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    create table ticket_seat (
        id bigint generated by default as identity,
        seat_id bigint not null,
        ticket_id bigint not null,
        primary key (id)
    )
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    alter table if exists outbox_event 
       drop constraint if exists UKc7pmgf9c7t5nt657in8sec87v
2025-09-29 13:50:56 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-09-29 13:50:56 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukc7pmgf9c7t5nt657in8sec87v" of relation "outbox_event" does not exist, skipping
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    alter table if exists outbox_event 
       add constraint UKc7pmgf9c7t5nt657in8sec87v unique (event_id)
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    alter table if exists seat 
       drop constraint if exists UK6mb8bytnv40lg1f2oxflicugu
2025-09-29 13:50:56 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-09-29 13:50:56 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk6mb8bytnv40lg1f2oxflicugu" of relation "seat" does not exist, skipping
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    alter table if exists seat 
       add constraint UK6mb8bytnv40lg1f2oxflicugu unique (flight_instance_id, seat_no)
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    alter table if exists ticket 
       drop constraint if exists UK1lsimdp5kdxly2nfpxke69vnb
2025-09-29 13:50:56 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-09-29 13:50:56 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "uk1lsimdp5kdxly2nfpxke69vnb" of relation "ticket" does not exist, skipping
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    alter table if exists ticket 
       add constraint UK1lsimdp5kdxly2nfpxke69vnb unique (payment_id)
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    alter table if exists ticket_seat 
       drop constraint if exists UKj8h1efr7mnk80mgc4k6cm3xmi
2025-09-29 13:50:56 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Warning Code: 0, SQLState: 00000
2025-09-29 13:50:56 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - constraint "ukj8h1efr7mnk80mgc4k6cm3xmi" of relation "ticket_seat" does not exist, skipping
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    alter table if exists ticket_seat 
       add constraint UKj8h1efr7mnk80mgc4k6cm3xmi unique (seat_id)
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    alter table if exists seat 
       add constraint FK5575i85p2fosb7f50g3pf7etm 
       foreign key (flight_instance_id) 
       references flight_instance
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    alter table if exists seat_hold 
       add constraint FKdelb456iudbmpsox9m68ad9i4 
       foreign key (flight_instance_id) 
       references flight_instance
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    alter table if exists seat_hold 
       add constraint FK3ad6lq58etvopexuwx6omh9pr 
       foreign key (seat_id) 
       references seat
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    alter table if exists ticket 
       add constraint FKrit1cgyjx0sowc141p8415odj 
       foreign key (flight_instance_id) 
       references flight_instance
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    alter table if exists ticket_seat 
       add constraint FKmt3gdaoed0h6e41cu17t8bhvs 
       foreign key (seat_id) 
       references seat
2025-09-29 13:50:56 [main] DEBUG org.hibernate.SQL - 
    alter table if exists ticket_seat 
       add constraint FK6fvy4rkjntfbumyqtf584g2wk 
       foreign key (ticket_id) 
       references ticket
2025-09-29 13:50:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 13:50:56 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 13:50:57 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1815104063 created for server address localhost:7687
2025-09-29 13:50:57 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 13:50:58 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 13:50:58 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 13:50:58 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 13:50:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 13:50:58 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 13:50:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 13:50:58 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 13:50:58 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 13:50:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 13:50:58 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 4.431 seconds (process running for 4.595)
2025-09-29 13:51:16 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 13:51:16 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 13:51:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 13:51:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 13:51:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 13:51:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@79871528
2025-09-29 13:51:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@20976bee
2025-09-29 13:51:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 13:51:16 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 10 ms
2025-09-29 13:51:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/actuator/health", parameters={}
2025-09-29 13:51:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/octet-stream" to []
2025-09-29 13:51:16 [Neo4jDriverIO-2-1] WARN  o.s.b.a.n.Neo4jReactiveHealthIndicator - Health check failed
org.neo4j.driver.exceptions.AuthenticationException: The client is unauthorized due to authentication failure.
	at org.neo4j.driver.internal.adaptedbolt.ErrorMapper.mapToNeo4jException(ErrorMapper.java:224)
	at org.neo4j.driver.internal.adaptedbolt.ErrorMapper.mapBoltFailureException(ErrorMapper.java:127)
	at org.neo4j.driver.internal.adaptedbolt.BoltAuthTokenManager.handleBoltFailureException(BoltAuthTokenManager.java:54)
	at org.neo4j.bolt.connection.pooled.PooledBoltConnectionSource.lambda$connect$16(PooledBoltConnectionSource.java:355)
	at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)
	at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)
	at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)
	at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2194)
	at org.neo4j.bolt.connection.netty.impl.handlers.LogonResponseHandler.lambda$onFailure$0(LogonResponseHandler.java:55)
	at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:603)
	at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:570)
	at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:505)
	at io.netty.util.concurrent.DefaultPromise.addListener(DefaultPromise.java:198)
	at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:95)
	at io.netty.channel.DefaultChannelPromise.addListener(DefaultChannelPromise.java:30)
	at org.neo4j.bolt.connection.netty.impl.handlers.LogonResponseHandler.onFailure(LogonResponseHandler.java:55)
	at org.neo4j.bolt.connection.netty.impl.async.inbound.InboundMessageDispatcher.handleFailureMessage(InboundMessageDispatcher.java:108)
	at org.neo4j.bolt.connection.netty.impl.messaging.v57.MessageReaderV57.unpackFailureMessage(MessageReaderV57.java:46)
	at org.neo4j.bolt.connection.netty.impl.messaging.common.CommonMessageReader.read(CommonMessageReader.java:53)
	at org.neo4j.bolt.connection.netty.impl.async.inbound.InboundMessageHandler.channelRead0(InboundMessageHandler.java:81)
	at org.neo4j.bolt.connection.netty.impl.async.inbound.InboundMessageHandler.channelRead0(InboundMessageHandler.java:34)
	at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at org.neo4j.bolt.connection.netty.impl.async.inbound.MessageDecoder.channelRead(MessageDecoder.java:40)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
	at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
	at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
	at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
	at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868)
	at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
	at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:796)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732)
	at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658)
	at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
	at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
	at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
	at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 13:51:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/vnd.spring-boot.actuator.v3+json', given [*/*] and supported [application/vnd.spring-boot.actuator.v3+json, application/vnd.spring-boot.actuator.v2+json, application/json]
2025-09-29 13:51:16 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [org.springframework.boot.actuate.health.SystemHealth@47cab9e5]
2025-09-29 13:51:16 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 503 SERVICE_UNAVAILABLE
2025-09-29 13:53:18 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 13:53:18 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 13:53:18 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1815104063
2025-09-29 13:53:18 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 13:53:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 13:53:18 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 15:57:49 [main] INFO  c.f.demo.DatabaseConnectionTest - Starting DatabaseConnectionTest using Java 20.0.1 with PID 18477 (started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 15:57:49 [main] DEBUG c.f.demo.DatabaseConnectionTest - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 15:57:49 [main] INFO  c.f.demo.DatabaseConnectionTest - The following 1 profile is active: "test"
2025-09-29 15:57:50 [main] WARN  o.s.w.c.s.GenericWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'dataSourceScriptDatabaseInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of file [/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/classes/data.sql]: DELETE FROM ticket_seat WHERE EXISTS (SELECT 1 FROM ticket_seat LIMIT 1)
2025-09-29 15:57:50 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'dataSourceScriptDatabaseInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of file [/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/classes/data.sql]: DELETE FROM ticket_seat WHERE EXISTS (SELECT 1 FROM ticket_seat LIMIT 1)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of file [/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/classes/data.sql]: DELETE FROM ticket_seat WHERE EXISTS (SELECT 1 FROM ticket_seat LIMIT 1)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 95 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of file [/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/classes/data.sql]: DELETE FROM ticket_seat WHERE EXISTS (SELECT 1 FROM ticket_seat LIMIT 1)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:293)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 102 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "TICKET_SEAT" not found (this database is empty); SQL statement:
DELETE FROM ticket_seat WHERE EXISTS (SELECT 1 FROM ticket_seat LIMIT 1) [42104-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7932)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7916)
	at org.h2.command.Parser.readTableOrView(Parser.java:7895)
	at org.h2.command.Parser.readTableOrView(Parser.java:7857)
	at org.h2.command.Parser.readSimpleTableFilter(Parser.java:1073)
	at org.h2.command.Parser.parseDelete(Parser.java:1087)
	at org.h2.command.Parser.parsePrepared(Parser.java:656)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 112 common frames omitted
2025-09-29 15:57:50 [main] WARN  o.s.test.context.TestContextManager - Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.flightbooking.demo.DatabaseConnectionTest@d4ecdb0]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6200b644 testClass = com.flightbooking.demo.DatabaseConnectionTest, locations = [], classes = [com.flightbooking.DemoApplication], contextInitializerClasses = [], activeProfiles = ["test"], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@74287ea3, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@2f01783a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6c7a164b, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@2e570ded, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@747f281, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@3b5fad2d, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@133b4eef], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:200)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:139)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:159)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:388)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:382)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:293)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:292)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:281)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:280)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:27)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:112)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:111)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:69)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:201)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:170)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:94)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:59)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:142)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:85)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.junit.platform.launcher.core.InterceptingLauncher.lambda$execute$1(InterceptingLauncher.java:39)
	at org.junit.platform.launcher.core.ClasspathAlignmentCheckingLauncherInterceptor.intercept(ClasspathAlignmentCheckingLauncherInterceptor.java:25)
	at org.junit.platform.launcher.core.InterceptingLauncher.execute(InterceptingLauncher.java:38)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:47)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.executeWithoutCancellationToken(LauncherAdapter.java:60)
	at org.apache.maven.surefire.junitplatform.LauncherAdapter.execute(LauncherAdapter.java:52)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:203)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:168)
	at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:136)
	at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:385)
	at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:162)
	at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:507)
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:495)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'dataSourceScriptDatabaseInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of file [/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/classes/data.sql]: DELETE FROM ticket_seat WHERE EXISTS (SELECT 1 FROM ticket_seat LIMIT 1)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:144)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:563)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:144)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:110)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 80 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Failed to execute SQL script statement #1 of file [/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/classes/data.sql]: DELETE FROM ticket_seat WHERE EXISTS (SELECT 1 FROM ticket_seat LIMIT 1)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 95 common frames omitted
Caused by: org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of file [/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/classes/data.sql]: DELETE FROM ticket_seat WHERE EXISTS (SELECT 1 FROM ticket_seat LIMIT 1)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:293)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.boot.jdbc.init.DataSourceScriptDatabaseInitializer.runScripts(DataSourceScriptDatabaseInitializer.java:87)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.runScripts(AbstractScriptDatabaseInitializer.java:146)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyScripts(AbstractScriptDatabaseInitializer.java:108)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.applyDataScripts(AbstractScriptDatabaseInitializer.java:102)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.initializeDatabase(AbstractScriptDatabaseInitializer.java:77)
	at org.springframework.boot.sql.init.AbstractScriptDatabaseInitializer.afterPropertiesSet(AbstractScriptDatabaseInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 102 common frames omitted
Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Table "TICKET_SEAT" not found (this database is empty); SQL statement:
DELETE FROM ticket_seat WHERE EXISTS (SELECT 1 FROM ticket_seat LIMIT 1) [42104-232]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:514)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:489)
	at org.h2.message.DbException.get(DbException.java:223)
	at org.h2.message.DbException.get(DbException.java:199)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7932)
	at org.h2.command.Parser.getTableOrViewNotFoundDbException(Parser.java:7916)
	at org.h2.command.Parser.readTableOrView(Parser.java:7895)
	at org.h2.command.Parser.readTableOrView(Parser.java:7857)
	at org.h2.command.Parser.readSimpleTableFilter(Parser.java:1073)
	at org.h2.command.Parser.parseDelete(Parser.java:1087)
	at org.h2.command.Parser.parsePrepared(Parser.java:656)
	at org.h2.command.Parser.parse(Parser.java:581)
	at org.h2.command.Parser.parse(Parser.java:556)
	at org.h2.command.Parser.prepareCommand(Parser.java:484)
	at org.h2.engine.SessionLocal.prepareLocal(SessionLocal.java:645)
	at org.h2.engine.SessionLocal.prepareCommand(SessionLocal.java:561)
	at org.h2.jdbc.JdbcConnection.prepareCommand(JdbcConnection.java:1164)
	at org.h2.jdbc.JdbcStatement.executeInternal(JdbcStatement.java:245)
	at org.h2.jdbc.JdbcStatement.execute(JdbcStatement.java:231)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 112 common frames omitted
2025-09-29 15:57:50 [main] INFO  c.f.demo.DemoApplicationTests - Starting DemoApplicationTests using Java 20.0.1 with PID 18477 (started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 15:57:50 [main] DEBUG c.f.demo.DemoApplicationTests - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 15:57:50 [main] INFO  c.f.demo.DemoApplicationTests - The following 1 profile is active: "dev"
2025-09-29 15:57:50 [main] DEBUG o.s.w.c.s.GenericWebApplicationContext - Refreshing org.springframework.web.context.support.GenericWebApplicationContext@526893f
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 6 JPA repository interfaces.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 3 Neo4j repository interfaces.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 JDBC repository interfaces.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 15:57:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Neo4j repository interfaces.
2025-09-29 15:57:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 15:57:51 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@afb7b03
2025-09-29 15:57:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 15:57:51 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 15:57:51 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 15:57:51 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 15:57:51 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 15:57:51 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 15:57:51 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 15:57:52 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 15:57:52 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 15:57:52 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 15:57:53 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 2115442370 created for server address localhost:7687
2025-09-29 15:57:53 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 15:57:53 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 15:57:53 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 15:57:53 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 15:57:53 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 15:57:53 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 15:57:53 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 15:57:53 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 15:57:54 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 6 endpoints beneath base path '/actuator'
2025-09-29 15:57:54 [main] INFO  c.f.demo.DemoApplicationTests - Started DemoApplicationTests in 3.537 seconds (process running for 5.555)
2025-09-29 15:57:54 [SpringApplicationShutdownHook] DEBUG o.s.w.c.s.GenericWebApplicationContext - Closing org.springframework.web.context.support.GenericWebApplicationContext@526893f, started on Mon Sep 29 15:57:50 IST 2025
2025-09-29 15:57:54 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 2115442370
2025-09-29 15:57:54 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 15:57:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 15:57:54 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 17:04:10 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication using Java 20.0.1 with PID 26564 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/classes started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 17:04:10 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "docker"
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 79 ms. Found 6 JPA repository interfaces.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 Neo4j repository interfaces.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 JDBC repository interfaces.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:04:10 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Neo4j repository interfaces.
2025-09-29 17:04:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 17:04:11 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 17:04:11 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 17:04:11 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-09-29 17:04:11 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1097 ms
2025-09-29 17:04:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 17:04:12 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 17:04:12 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 17:04:13 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 17:04:13 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 17:04:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 17:04:14 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08001
2025-09-29 17:04:14 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - The connection attempt failed.
2025-09-29 17:04:14 [main] WARN  o.h.e.j.e.i.JdbcEnvironmentInitiator - HHH000342: Could not obtain connection to query metadata
org.hibernate.exception.JDBCConnectionException: unable to obtain isolated JDBC connection [The connection attempt failed.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:116)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.getJdbcEnvironmentUsingJdbcMetadata(JdbcEnvironmentInitiator.java:334)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:129)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:81)
	at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:130)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.createService(AbstractServiceRegistryImpl.java:263)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.initializeService(AbstractServiceRegistryImpl.java:238)
	at org.hibernate.service.internal.AbstractServiceRegistryImpl.getService(AbstractServiceRegistryImpl.java:215)
	at org.hibernate.boot.model.relational.Database.<init>(Database.java:45)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.getDatabase(InFlightMetadataCollectorImpl.java:226)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.<init>(InFlightMetadataCollectorImpl.java:194)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:171)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.flightbooking.DemoApplication.main(DemoApplication.java:14)
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:385)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:57)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:277)
	at org.postgresql.Driver.makeConnection(Driver.java:448)
	at org.postgresql.Driver.connect(Driver.java:298)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:370)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:207)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:485)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcIsolationDelegate.delegateWork(JdbcIsolationDelegate.java:61)
	... 35 common frames omitted
Caused by: java.net.UnknownHostException: postgres
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:560)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:666)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:261)
	at org.postgresql.core.PGStream.<init>(PGStream.java:122)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:146)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:289)
	... 49 common frames omitted
2025-09-29 17:04:14 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 17:04:14 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (null)']
	Database driver: undefined/unknown
	Database version: 12.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 17:04:14 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 17:04:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 17:04:15 [main] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 08001
2025-09-29 17:04:15 [main] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - The connection attempt failed.
2025-09-29 17:04:15 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
2025-09-29 17:04:15 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
2025-09-29 17:04:15 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-09-29 17:04:15 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-09-29 17:04:15 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1361)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1350)
	at com.flightbooking.DemoApplication.main(DemoApplication.java:14)
Caused by: jakarta.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:431)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 15 common frames omitted
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution [The connection attempt failed.] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:100)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:74)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:39)
	at org.hibernate.tool.schema.internal.exec.ImprovedExtractionContextImpl.getJdbcConnection(ImprovedExtractionContextImpl.java:63)
	at org.hibernate.tool.schema.extract.spi.ExtractionContext.getQueryResults(ExtractionContext.java:43)
	at org.hibernate.tool.schema.extract.internal.SequenceInformationExtractorLegacyImpl.extractMetadata(SequenceInformationExtractorLegacyImpl.java:39)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.initializeSequences(DatabaseInformationImpl.java:66)
	at org.hibernate.tool.schema.extract.internal.DatabaseInformationImpl.<init>(DatabaseInformationImpl.java:60)
	at org.hibernate.tool.schema.internal.Helper.buildDatabaseInformation(Helper.java:185)
	at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:93)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:280)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:144)
	at java.base/java.util.HashMap.forEach(HashMap.java:1429)
	at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:141)
	at org.hibernate.boot.internal.SessionFactoryObserverForSchemaExport.sessionFactoryCreated(SessionFactoryObserverForSchemaExport.java:37)
	at org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)
	at org.hibernate.internal.SessionFactoryImpl.<init>(SessionFactoryImpl.java:324)
	at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:463)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1517)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	... 19 common frames omitted
Caused by: org.postgresql.util.PSQLException: The connection attempt failed.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:385)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:57)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:277)
	at org.postgresql.Driver.makeConnection(Driver.java:448)
	at org.postgresql.Driver.connect(Driver.java:298)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:144)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:370)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:207)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:488)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:576)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:97)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:111)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:126)
	at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:485)
	at org.hibernate.resource.transaction.backend.jdbc.internal.DdlTransactionIsolatorNonJtaImpl.getIsolatedConnection(DdlTransactionIsolatorNonJtaImpl.java:46)
	... 39 common frames omitted
Caused by: java.net.UnknownHostException: postgres
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:560)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:666)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:261)
	at org.postgresql.core.PGStream.<init>(PGStream.java:122)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:146)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:289)
	... 53 common frames omitted
2025-09-29 17:05:35 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication using Java 20.0.1 with PID 26847 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/classes started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 17:05:35 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 17:05:35 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 17:05:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:05:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 17:05:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 71 ms. Found 6 JPA repository interfaces.
2025-09-29 17:05:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:05:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:05:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 Neo4j repository interfaces.
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 JDBC repository interfaces.
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:05:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Neo4j repository interfaces.
2025-09-29 17:05:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 17:05:36 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 17:05:36 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 17:05:36 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 17:05:36 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 974 ms
2025-09-29 17:05:36 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 17:05:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 17:05:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@7ea07516
2025-09-29 17:05:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 17:05:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 17:05:36 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 17:05:36 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 17:05:36 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 17:05:36 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 17:05:37 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 17:05:37 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 17:05:37 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:05:38 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 17:05:38 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1404735749 created for server address localhost:7687
2025-09-29 17:05:39 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:05:39 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:05:39 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:05:39 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 17:05:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 17:05:39 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 17:05:39 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 17:05:39 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 17:05:39 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 17:05:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 17:05:39 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 4.283 seconds (process running for 4.428)
2025-09-29 17:06:31 [http-nio-8080-exec-6] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 17:06:31 [http-nio-8080-exec-6] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 17:06:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 17:06:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 17:06:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 17:06:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@15e281ee
2025-09-29 17:06:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7609c5c0
2025-09-29 17:06:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 17:06:31 [http-nio-8080-exec-6] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 11 ms
2025-09-29 17:06:31 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-10&passengerCount=3", parameters={masked}
2025-09-29 17:06:31 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:06:31 [http-nio-8080-exec-6] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-10 for 3 passengers
2025-09-29 17:06:32 [http-nio-8080-exec-6] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-10 for 3 passengers
2025-09-29 17:06:32 [http-nio-8080-exec-6] INFO  c.f.s.service.FlightSearchService - Found 1 cached itineraries for search
2025-09-29 17:06:32 [http-nio-8080-exec-6] INFO  c.f.s.controller.SearchController - Search completed successfully. Found 1 flight options
2025-09-29 17:06:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:06:32 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-10, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:06:32 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-29 17:07:46 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-10&passengerCount=3", parameters={masked}
2025-09-29 17:07:46 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:07:46 [http-nio-8080-exec-8] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-10 for 3 passengers
2025-09-29 17:07:46 [http-nio-8080-exec-8] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-10 for 3 passengers
2025-09-29 17:07:46 [http-nio-8080-exec-8] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:07:46 [http-nio-8080-exec-8] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-10
2025-09-29 17:07:46 [http-nio-8080-exec-8] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-10 (max 2 stops)
2025-09-29 17:07:47 [http-nio-8080-exec-8] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-10
2025-09-29 17:07:47 [http-nio-8080-exec-8] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (1 stop)
2025-09-29 17:07:47 [http-nio-8080-exec-8] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (2 stops)
2025-09-29 17:07:47 [http-nio-8080-exec-8] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 17:07:47 [http-nio-8080-exec-8] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 17:07:47 [http-nio-8080-exec-8] INFO  c.f.s.controller.SearchController - Search completed successfully. Found 0 flight options
2025-09-29 17:07:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:07:47 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-10, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:07:47 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-29 17:08:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-13&passengerCount=3", parameters={masked}
2025-09-29 17:08:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:08:00 [http-nio-8080-exec-10] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:08:00 [http-nio-8080-exec-10] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:08:00 [http-nio-8080-exec-10] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:08:00 [http-nio-8080-exec-10] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-13
2025-09-29 17:08:00 [http-nio-8080-exec-10] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-13 (max 2 stops)
2025-09-29 17:08:00 [http-nio-8080-exec-10] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-13
2025-09-29 17:08:00 [http-nio-8080-exec-10] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (1 stop)
2025-09-29 17:08:00 [http-nio-8080-exec-10] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class java.lang.IllegalArgumentException
2025-09-29 17:08:00 [http-nio-8080-exec-10] ERROR c.f.s.controller.SearchController - Error processing flight search request: Records with more than one value cannot be converted without a mapper
org.springframework.dao.InvalidDataAccessApiUsageException: Records with more than one value cannot be converted without a mapper
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findConnectingFlightsWithTwoStops(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:124)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.IllegalArgumentException: Records with more than one value cannot be converted without a mapper
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:54)
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:34)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.lambda$partialMappingFunction$0(DefaultNeo4jClient.java:490)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:475)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getResults$1(Neo4jTemplate.java:1263)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getResults(Neo4jTemplate.java:1262)
	at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:51)
	at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:93)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 79 common frames omitted
2025-09-29 17:08:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:08:00 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-13, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:08:00 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 17:24:43 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 17:24:43 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 17:24:43 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1404735749
2025-09-29 17:24:43 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:24:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 17:24:43 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 17:24:49 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication using Java 20.0.1 with PID 29082 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/classes started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 17:24:49 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 17:24:49 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 74 ms. Found 6 JPA repository interfaces.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 3 Neo4j repository interfaces.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 JDBC repository interfaces.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:24:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Neo4j repository interfaces.
2025-09-29 17:24:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 17:24:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 17:24:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 17:24:50 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 17:24:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1001 ms
2025-09-29 17:24:50 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 17:24:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 17:24:51 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@29fcfc54
2025-09-29 17:24:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 17:24:51 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 17:24:51 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 17:24:51 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 17:24:51 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 17:24:51 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 17:24:51 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 17:24:52 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 17:24:53 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:24:53 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 17:24:54 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 396596434 created for server address localhost:7687
2025-09-29 17:24:54 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:24:54 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:24:54 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:24:54 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 17:24:54 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 17:24:54 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 17:24:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 17:24:55 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 17:24:55 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 17:24:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 17:24:55 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 5.712 seconds (process running for 5.867)
2025-09-29 17:25:00 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 17:25:00 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 17:25:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 17:25:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 17:25:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 17:25:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@43632eb0
2025-09-29 17:25:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@46e1702d
2025-09-29 17:25:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 17:25:00 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-09-29 17:25:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-13&passengerCount=3", parameters={masked}
2025-09-29 17:25:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:25:00 [http-nio-8080-exec-1] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:25:00 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:25:00 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:25:00 [http-nio-8080-exec-1] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-13
2025-09-29 17:25:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.flightbooking.common.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-09-29 17:25:00 [http-nio-8080-exec-1] ERROR c.f.c.e.GlobalExceptionHandler - Unexpected error occurred: Handler dispatch failed: java.lang.Error: Unresolved compilation problem: 
	The method findConnectingFlightsWithTwoStops(String, String, OffsetDateTime) is undefined for the type FlightInstanceNodeRepository

jakarta.servlet.ServletException: Handler dispatch failed: java.lang.Error: Unresolved compilation problem: 
	The method findConnectingFlightsWithTwoStops(String, String, OffsetDateTime) is undefined for the type FlightInstanceNodeRepository

	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.Error: Unresolved compilation problem: 
	The method findConnectingFlightsWithTwoStops(String, String, OffsetDateTime) is undefined for the type FlightInstanceNodeRepository

	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:124)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	... 43 common frames omitted
2025-09-29 17:25:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:25:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Internal Server Error, message=An unexpected error occurred, timestamp=2025-09-29T17:25:00.89 (truncated)...]
2025-09-29 17:25:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.Error: Unresolved compilation problem: <EOL>?The method findConnectingFlightsWithTwoStops(String, String, OffsetDateTime) is undefined for the type FlightInstanceNodeRepository<EOL>]
2025-09-29 17:25:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 17:27:48 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-13&passengerCount=3", parameters={masked}
2025-09-29 17:27:48 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:27:48 [http-nio-8080-exec-4] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:27:49 [http-nio-8080-exec-4] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:27:49 [http-nio-8080-exec-4] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:27:49 [http-nio-8080-exec-4] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-13
2025-09-29 17:27:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.flightbooking.common.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-09-29 17:27:49 [http-nio-8080-exec-4] ERROR c.f.c.e.GlobalExceptionHandler - Unexpected error occurred: Handler dispatch failed: java.lang.Error: Unresolved compilation problem: 
	The method findConnectingFlightsWithTwoStops(String, String, OffsetDateTime) is undefined for the type FlightInstanceNodeRepository

jakarta.servlet.ServletException: Handler dispatch failed: java.lang.Error: Unresolved compilation problem: 
	The method findConnectingFlightsWithTwoStops(String, String, OffsetDateTime) is undefined for the type FlightInstanceNodeRepository

	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1104)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.Error: Unresolved compilation problem: 
	The method findConnectingFlightsWithTwoStops(String, String, OffsetDateTime) is undefined for the type FlightInstanceNodeRepository

	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:124)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	... 43 common frames omitted
2025-09-29 17:27:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:27:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Internal Server Error, message=An unexpected error occurred, timestamp=2025-09-29T17:27:49.07 (truncated)...]
2025-09-29 17:27:49 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [jakarta.servlet.ServletException: Handler dispatch failed: java.lang.Error: Unresolved compilation problem: <EOL>?The method findConnectingFlightsWithTwoStops(String, String, OffsetDateTime) is undefined for the type FlightInstanceNodeRepository<EOL>]
2025-09-29 17:27:49 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 17:28:33 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 17:28:33 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 17:28:33 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 396596434
2025-09-29 17:28:34 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:28:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 17:28:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 17:28:51 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 29962 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 17:28:51 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 17:28:51 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 17:28:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:28:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 17:28:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 90 ms. Found 6 JPA repository interfaces.
2025-09-29 17:28:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:28:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:28:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 Neo4j repository interfaces.
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 JDBC repository interfaces.
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:28:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Neo4j repository interfaces.
2025-09-29 17:28:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 17:28:52 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 17:28:52 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 17:28:52 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 17:28:52 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1441 ms
2025-09-29 17:28:52 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 17:28:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 17:28:52 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@3d798e76
2025-09-29 17:28:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 17:28:52 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 17:28:52 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 17:28:52 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 17:28:53 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 17:28:53 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 17:28:53 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 17:28:53 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 17:28:53 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:28:54 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 17:28:55 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1510477965 created for server address localhost:7687
2025-09-29 17:28:55 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:28:55 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:28:55 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:28:55 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 17:28:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 17:28:55 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 17:28:55 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 17:28:55 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 17:28:55 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 17:28:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 17:28:55 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 5.006 seconds (process running for 5.366)
2025-09-29 17:28:59 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 17:28:59 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 17:28:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 17:28:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 17:28:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 17:28:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@a57b4bd
2025-09-29 17:28:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@a200a54
2025-09-29 17:28:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 17:28:59 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 10 ms
2025-09-29 17:28:59 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-13&passengerCount=3", parameters={masked}
2025-09-29 17:28:59 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:28:59 [http-nio-8080-exec-1] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:29:00 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:29:00 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:29:00 [http-nio-8080-exec-1] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-13
2025-09-29 17:29:00 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-13 (max 2 stops)
2025-09-29 17:29:00 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-13
2025-09-29 17:29:00 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (1 stop)
2025-09-29 17:29:00 [http-nio-8080-exec-1] ERROR c.f.s.controller.SearchController - Error processing flight search request: In a WITH/RETURN with DISTINCT or an aggregation, it is not possible to access variables declared before the WITH/RETURN: f1 (line 1, column 628 (offset: 627))
"MATCH (f1:FlightInstance)-[:ARRIVES_AT]->(hub1:Airport)-[:DEPARTS_WITH]->(f2:FlightInstance)-[:ARRIVES_AT]->(hub2:Airport)-[:DEPARTS_WITH]->(f3:FlightInstance) WHERE f1.source = $source AND f3.destination = $destination AND f1.status = 'ACTIVE' AND f2.status = 'ACTIVE' AND f3.status = 'ACTIVE' AND date(f1.departureTime) = date($departureDate) AND f1.arrivalTime + duration('PT45M') <= f2.departureTime AND f1.arrivalTime + duration('P1D') >= f2.departureTime AND f2.arrivalTime + duration('PT45M') <= f3.departureTime AND f2.arrivalTime + duration('P1D') >= f3.departureTime RETURN DISTINCT [f1, f2, f3] AS flights ORDER BY (f1.priceMoney + f2.priceMoney + f3.priceMoney)"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ^; Error code 'Neo.ClientError.Statement.SyntaxError'
org.springframework.dao.InvalidDataAccessResourceUsageException: In a WITH/RETURN with DISTINCT or an aggregation, it is not possible to access variables declared before the WITH/RETURN: f1 (line 1, column 628 (offset: 627))
"MATCH (f1:FlightInstance)-[:ARRIVES_AT]->(hub1:Airport)-[:DEPARTS_WITH]->(f2:FlightInstance)-[:ARRIVES_AT]->(hub2:Airport)-[:DEPARTS_WITH]->(f3:FlightInstance) WHERE f1.source = $source AND f3.destination = $destination AND f1.status = 'ACTIVE' AND f2.status = 'ACTIVE' AND f3.status = 'ACTIVE' AND date(f1.departureTime) = date($departureDate) AND f1.arrivalTime + duration('PT45M') <= f2.departureTime AND f1.arrivalTime + duration('P1D') >= f2.departureTime AND f2.arrivalTime + duration('PT45M') <= f3.departureTime AND f2.arrivalTime + duration('P1D') >= f3.departureTime RETURN DISTINCT [f1, f2, f3] AS flights ORDER BY (f1.priceMoney + f2.priceMoney + f3.priceMoney)"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ^; Error code 'Neo.ClientError.Statement.SyntaxError'
	at org.springframework.data.neo4j.core.Neo4jPersistenceExceptionTranslator.translateImpl(Neo4jPersistenceExceptionTranslator.java:107)
	at org.springframework.data.neo4j.core.Neo4jPersistenceExceptionTranslator.translateExceptionIfPossible(Neo4jPersistenceExceptionTranslator.java:91)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient.potentiallyConvertRuntimeException(DefaultNeo4jClient.java:221)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:479)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getResults$1(Neo4jTemplate.java:1263)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getResults(Neo4jTemplate.java:1262)
	at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:51)
	at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:93)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findConnectingFlightsWithTwoStops(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:124)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: org.neo4j.driver.exceptions.ClientException: In a WITH/RETURN with DISTINCT or an aggregation, it is not possible to access variables declared before the WITH/RETURN: f1 (line 1, column 628 (offset: 627))
"MATCH (f1:FlightInstance)-[:ARRIVES_AT]->(hub1:Airport)-[:DEPARTS_WITH]->(f2:FlightInstance)-[:ARRIVES_AT]->(hub2:Airport)-[:DEPARTS_WITH]->(f3:FlightInstance) WHERE f1.source = $source AND f3.destination = $destination AND f1.status = 'ACTIVE' AND f2.status = 'ACTIVE' AND f3.status = 'ACTIVE' AND date(f1.departureTime) = date($departureDate) AND f1.arrivalTime + duration('PT45M') <= f2.departureTime AND f1.arrivalTime + duration('P1D') >= f2.departureTime AND f2.arrivalTime + duration('PT45M') <= f3.departureTime AND f2.arrivalTime + duration('P1D') >= f3.departureTime RETURN DISTINCT [f1, f2, f3] AS flights ORDER BY (f1.priceMoney + f2.priceMoney + f3.priceMoney)"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ^
	at org.neo4j.driver.internal.util.Futures.blockingGet(Futures.java:63)
	at org.neo4j.driver.internal.InternalTransaction.run(InternalTransaction.java:55)
	at org.neo4j.driver.internal.AbstractQueryRunner.run(AbstractQueryRunner.java:32)
	at org.neo4j.driver.internal.AbstractQueryRunner.run(AbstractQueryRunner.java:37)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DelegatingQueryRunner.run(DefaultNeo4jClient.java:135)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$RunnableStatement.runWith(DefaultNeo4jClient.java:207)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:474)
	... 96 common frames omitted
	Suppressed: org.neo4j.driver.internal.util.ErrorUtil$InternalExceptionCause: null
		at org.neo4j.driver.internal.adaptedbolt.ErrorMapper.mapToNeo4jException(ErrorMapper.java:224)
		at org.neo4j.driver.internal.adaptedbolt.ErrorMapper.mapBoltFailureException(ErrorMapper.java:141)
		at org.neo4j.driver.internal.adaptedbolt.ErrorMapper.map(ErrorMapper.java:81)
		at org.neo4j.driver.internal.adaptedbolt.AdaptingDriverResponseHandler.onError(AdaptingDriverResponseHandler.java:51)
		at org.neo4j.bolt.connection.pooled.impl.PooledBoltConnection$PooledResponseHandler.onError(PooledBoltConnection.java:189)
		at org.neo4j.bolt.connection.netty.impl.BoltConnectionImpl$ResponseHandleImpl.lambda$onError$1(BoltConnectionImpl.java:617)
		at org.neo4j.bolt.connection.netty.impl.BoltConnectionImpl$ResponseHandleImpl.runIgnoringError(BoltConnectionImpl.java:748)
		at org.neo4j.bolt.connection.netty.impl.BoltConnectionImpl$ResponseHandleImpl.onError(BoltConnectionImpl.java:617)
		at org.neo4j.bolt.connection.netty.impl.BoltConnectionImpl$3.onError(BoltConnectionImpl.java:282)
		at org.neo4j.bolt.connection.netty.impl.messaging.v3.BoltProtocolV3.lambda$run$10(BoltProtocolV3.java:389)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)
		at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)
		at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)
		at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2194)
		at org.neo4j.bolt.connection.netty.impl.handlers.RunResponseHandler.onFailure(RunResponseHandler.java:50)
		at org.neo4j.bolt.connection.netty.impl.async.inbound.InboundMessageDispatcher.handleFailureMessage(InboundMessageDispatcher.java:108)
		at org.neo4j.bolt.connection.netty.impl.messaging.v57.MessageReaderV57.unpackFailureMessage(MessageReaderV57.java:46)
		at org.neo4j.bolt.connection.netty.impl.messaging.common.CommonMessageReader.read(CommonMessageReader.java:53)
		at org.neo4j.bolt.connection.netty.impl.async.inbound.InboundMessageHandler.channelRead0(InboundMessageHandler.java:81)
		at org.neo4j.bolt.connection.netty.impl.async.inbound.InboundMessageHandler.channelRead0(InboundMessageHandler.java:34)
		at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
		at org.neo4j.bolt.connection.netty.impl.async.inbound.MessageDecoder.channelRead(MessageDecoder.java:40)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)
		at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:455)
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868)
		at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
		at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:796)
		at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732)
		at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658)
		at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
		... 1 common frames omitted
2025-09-29 17:29:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:29:00 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-13, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:29:00 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 17:33:16 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 17:33:16 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 17:33:16 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1510477965
2025-09-29 17:33:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:33:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 17:33:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 17:34:43 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 30810 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 17:34:43 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 17:34:43 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 92 ms. Found 6 JPA repository interfaces.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 3 Neo4j repository interfaces.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 JDBC repository interfaces.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:34:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Neo4j repository interfaces.
2025-09-29 17:34:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 17:34:44 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 17:34:44 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 17:34:44 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 17:34:44 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1258 ms
2025-09-29 17:34:44 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 17:34:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 17:34:44 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@405d8a80
2025-09-29 17:34:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 17:34:44 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 17:34:44 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 17:34:44 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 17:34:45 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 17:34:45 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 17:34:45 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 17:34:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 17:34:46 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:34:46 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 17:34:48 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1624455220 created for server address localhost:7687
2025-09-29 17:34:48 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:34:48 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:34:48 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:34:48 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 17:34:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 17:34:48 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 17:34:48 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 17:34:48 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 17:34:48 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 17:34:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 17:34:48 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 6.107 seconds (process running for 6.543)
2025-09-29 17:34:55 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 17:34:55 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 17:34:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 17:34:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 17:34:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 17:34:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@344d9421
2025-09-29 17:34:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@578cda32
2025-09-29 17:34:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 17:34:55 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 15 ms
2025-09-29 17:34:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-13&passengerCount=3", parameters={masked}
2025-09-29 17:34:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:34:55 [http-nio-8080-exec-2] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:34:55 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:34:55 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:34:55 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-13
2025-09-29 17:34:55 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-13 (max 2 stops)
2025-09-29 17:34:55 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-13
2025-09-29 17:34:55 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (1 stop)
2025-09-29 17:34:55 [http-nio-8080-exec-2] ERROR c.f.s.controller.SearchController - Error processing flight search request: In a WITH/RETURN with DISTINCT or an aggregation, it is not possible to access variables declared before the WITH/RETURN: f1 (line 1, column 628 (offset: 627))
"MATCH (f1:FlightInstance)-[:ARRIVES_AT]->(hub1:Airport)-[:DEPARTS_WITH]->(f2:FlightInstance)-[:ARRIVES_AT]->(hub2:Airport)-[:DEPARTS_WITH]->(f3:FlightInstance) WHERE f1.source = $source AND f3.destination = $destination AND f1.status = 'ACTIVE' AND f2.status = 'ACTIVE' AND f3.status = 'ACTIVE' AND date(f1.departureTime) = date($departureDate) AND f1.arrivalTime + duration('PT45M') <= f2.departureTime AND f1.arrivalTime + duration('P1D') >= f2.departureTime AND f2.arrivalTime + duration('PT45M') <= f3.departureTime AND f2.arrivalTime + duration('P1D') >= f3.departureTime RETURN DISTINCT [f1, f2, f3] AS flights ORDER BY (f1.priceMoney + f2.priceMoney + f3.priceMoney)"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ^; Error code 'Neo.ClientError.Statement.SyntaxError'
org.springframework.dao.InvalidDataAccessResourceUsageException: In a WITH/RETURN with DISTINCT or an aggregation, it is not possible to access variables declared before the WITH/RETURN: f1 (line 1, column 628 (offset: 627))
"MATCH (f1:FlightInstance)-[:ARRIVES_AT]->(hub1:Airport)-[:DEPARTS_WITH]->(f2:FlightInstance)-[:ARRIVES_AT]->(hub2:Airport)-[:DEPARTS_WITH]->(f3:FlightInstance) WHERE f1.source = $source AND f3.destination = $destination AND f1.status = 'ACTIVE' AND f2.status = 'ACTIVE' AND f3.status = 'ACTIVE' AND date(f1.departureTime) = date($departureDate) AND f1.arrivalTime + duration('PT45M') <= f2.departureTime AND f1.arrivalTime + duration('P1D') >= f2.departureTime AND f2.arrivalTime + duration('PT45M') <= f3.departureTime AND f2.arrivalTime + duration('P1D') >= f3.departureTime RETURN DISTINCT [f1, f2, f3] AS flights ORDER BY (f1.priceMoney + f2.priceMoney + f3.priceMoney)"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ^; Error code 'Neo.ClientError.Statement.SyntaxError'
	at org.springframework.data.neo4j.core.Neo4jPersistenceExceptionTranslator.translateImpl(Neo4jPersistenceExceptionTranslator.java:107)
	at org.springframework.data.neo4j.core.Neo4jPersistenceExceptionTranslator.translateExceptionIfPossible(Neo4jPersistenceExceptionTranslator.java:91)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient.potentiallyConvertRuntimeException(DefaultNeo4jClient.java:221)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:479)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getResults$1(Neo4jTemplate.java:1263)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getResults(Neo4jTemplate.java:1262)
	at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:51)
	at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:93)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findConnectingFlightsWithTwoStops(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:124)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: org.neo4j.driver.exceptions.ClientException: In a WITH/RETURN with DISTINCT or an aggregation, it is not possible to access variables declared before the WITH/RETURN: f1 (line 1, column 628 (offset: 627))
"MATCH (f1:FlightInstance)-[:ARRIVES_AT]->(hub1:Airport)-[:DEPARTS_WITH]->(f2:FlightInstance)-[:ARRIVES_AT]->(hub2:Airport)-[:DEPARTS_WITH]->(f3:FlightInstance) WHERE f1.source = $source AND f3.destination = $destination AND f1.status = 'ACTIVE' AND f2.status = 'ACTIVE' AND f3.status = 'ACTIVE' AND date(f1.departureTime) = date($departureDate) AND f1.arrivalTime + duration('PT45M') <= f2.departureTime AND f1.arrivalTime + duration('P1D') >= f2.departureTime AND f2.arrivalTime + duration('PT45M') <= f3.departureTime AND f2.arrivalTime + duration('P1D') >= f3.departureTime RETURN DISTINCT [f1, f2, f3] AS flights ORDER BY (f1.priceMoney + f2.priceMoney + f3.priceMoney)"
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    ^
	at org.neo4j.driver.internal.util.Futures.blockingGet(Futures.java:63)
	at org.neo4j.driver.internal.InternalTransaction.run(InternalTransaction.java:55)
	at org.neo4j.driver.internal.AbstractQueryRunner.run(AbstractQueryRunner.java:32)
	at org.neo4j.driver.internal.AbstractQueryRunner.run(AbstractQueryRunner.java:37)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DelegatingQueryRunner.run(DefaultNeo4jClient.java:135)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$RunnableStatement.runWith(DefaultNeo4jClient.java:207)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:474)
	... 96 common frames omitted
	Suppressed: org.neo4j.driver.internal.util.ErrorUtil$InternalExceptionCause: null
		at org.neo4j.driver.internal.adaptedbolt.ErrorMapper.mapToNeo4jException(ErrorMapper.java:224)
		at org.neo4j.driver.internal.adaptedbolt.ErrorMapper.mapBoltFailureException(ErrorMapper.java:141)
		at org.neo4j.driver.internal.adaptedbolt.ErrorMapper.map(ErrorMapper.java:81)
		at org.neo4j.driver.internal.adaptedbolt.AdaptingDriverResponseHandler.onError(AdaptingDriverResponseHandler.java:51)
		at org.neo4j.bolt.connection.pooled.impl.PooledBoltConnection$PooledResponseHandler.onError(PooledBoltConnection.java:189)
		at org.neo4j.bolt.connection.netty.impl.BoltConnectionImpl$ResponseHandleImpl.lambda$onError$1(BoltConnectionImpl.java:617)
		at org.neo4j.bolt.connection.netty.impl.BoltConnectionImpl$ResponseHandleImpl.runIgnoringError(BoltConnectionImpl.java:748)
		at org.neo4j.bolt.connection.netty.impl.BoltConnectionImpl$ResponseHandleImpl.onError(BoltConnectionImpl.java:617)
		at org.neo4j.bolt.connection.netty.impl.BoltConnectionImpl$3.onError(BoltConnectionImpl.java:282)
		at org.neo4j.bolt.connection.netty.impl.messaging.v3.BoltProtocolV3.lambda$run$10(BoltProtocolV3.java:389)
		at java.base/java.util.concurrent.CompletableFuture.uniWhenComplete(CompletableFuture.java:863)
		at java.base/java.util.concurrent.CompletableFuture$UniWhenComplete.tryFire(CompletableFuture.java:841)
		at java.base/java.util.concurrent.CompletableFuture.postComplete(CompletableFuture.java:510)
		at java.base/java.util.concurrent.CompletableFuture.completeExceptionally(CompletableFuture.java:2194)
		at org.neo4j.bolt.connection.netty.impl.handlers.RunResponseHandler.onFailure(RunResponseHandler.java:50)
		at org.neo4j.bolt.connection.netty.impl.async.inbound.InboundMessageDispatcher.handleFailureMessage(InboundMessageDispatcher.java:108)
		at org.neo4j.bolt.connection.netty.impl.messaging.v57.MessageReaderV57.unpackFailureMessage(MessageReaderV57.java:46)
		at org.neo4j.bolt.connection.netty.impl.messaging.common.CommonMessageReader.read(CommonMessageReader.java:53)
		at org.neo4j.bolt.connection.netty.impl.async.inbound.InboundMessageHandler.channelRead0(InboundMessageHandler.java:81)
		at org.neo4j.bolt.connection.netty.impl.async.inbound.InboundMessageHandler.channelRead0(InboundMessageHandler.java:34)
		at io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:99)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:318)
		at org.neo4j.bolt.connection.netty.impl.async.inbound.MessageDecoder.channelRead(MessageDecoder.java:40)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:346)
		at io.netty.handler.codec.ByteToMessageDecoder.fireChannelRead(ByteToMessageDecoder.java:333)
		at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:455)
		at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:290)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:444)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
		at io.netty.handler.timeout.IdleStateHandler.channelRead(IdleStateHandler.java:289)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
		at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)
		at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1357)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)
		at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)
		at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:868)
		at io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)
		at io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:796)
		at io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:732)
		at io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:658)
		at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:562)
		at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:998)
		at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)
		at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)
		... 1 common frames omitted
2025-09-29 17:34:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:34:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-13, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:34:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 17:36:11 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 17:36:11 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 17:36:11 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1624455220
2025-09-29 17:36:11 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:36:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 17:36:11 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 17:36:59 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 31293 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 17:36:59 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 17:36:59 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 89 ms. Found 6 JPA repository interfaces.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 3 Neo4j repository interfaces.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 JDBC repository interfaces.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Neo4j repository interfaces.
2025-09-29 17:37:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 17:37:00 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 17:37:00 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 17:37:00 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 17:37:00 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1292 ms
2025-09-29 17:37:00 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 17:37:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 17:37:00 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@618f627b
2025-09-29 17:37:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 17:37:00 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 17:37:00 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 17:37:00 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 17:37:00 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 17:37:01 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 17:37:01 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 17:37:01 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 17:37:02 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:37:02 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 17:37:03 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 528428662 created for server address localhost:7687
2025-09-29 17:37:03 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:37:03 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:37:03 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:37:03 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 17:37:03 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 17:37:03 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 17:37:03 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 17:37:03 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 17:37:03 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 17:37:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 17:37:03 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 5.197 seconds (process running for 5.742)
2025-09-29 17:37:09 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 17:37:09 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 17:37:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 17:37:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 17:37:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 17:37:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3577d2a2
2025-09-29 17:37:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@336bb88c
2025-09-29 17:37:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 17:37:09 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-09-29 17:37:09 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-13&passengerCount=3", parameters={masked}
2025-09-29 17:37:09 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:37:09 [http-nio-8080-exec-2] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:37:10 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:37:10 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:37:10 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-13
2025-09-29 17:37:10 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-13 (max 2 stops)
2025-09-29 17:37:10 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-13
2025-09-29 17:37:10 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (1 stop)
2025-09-29 17:37:10 [http-nio-8080-exec-2] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class java.lang.IllegalArgumentException
2025-09-29 17:37:10 [http-nio-8080-exec-2] ERROR c.f.s.controller.SearchController - Error processing flight search request: Records with more than one value cannot be converted without a mapper
org.springframework.dao.InvalidDataAccessApiUsageException: Records with more than one value cannot be converted without a mapper
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findConnectingFlightsWithTwoStops(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:124)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.IllegalArgumentException: Records with more than one value cannot be converted without a mapper
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:54)
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:34)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.lambda$partialMappingFunction$0(DefaultNeo4jClient.java:490)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:475)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getResults$1(Neo4jTemplate.java:1263)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getResults(Neo4jTemplate.java:1262)
	at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:51)
	at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:93)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 79 common frames omitted
2025-09-29 17:37:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:37:10 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-13, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:37:10 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 17:38:12 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 17:38:12 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 17:38:12 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 528428662
2025-09-29 17:38:12 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:38:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 17:38:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 17:38:35 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 31686 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 17:38:35 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 17:38:35 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 91 ms. Found 6 JPA repository interfaces.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 3 Neo4j repository interfaces.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 JDBC repository interfaces.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:38:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Neo4j repository interfaces.
2025-09-29 17:38:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 17:38:37 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 17:38:37 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 17:38:37 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 17:38:37 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1276 ms
2025-09-29 17:38:37 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 17:38:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 17:38:37 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@5ba184fc
2025-09-29 17:38:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 17:38:37 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 17:38:37 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 17:38:37 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 17:38:37 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 17:38:38 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 17:38:38 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 17:38:39 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 17:38:39 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:38:40 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 17:38:41 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 564689266 created for server address localhost:7687
2025-09-29 17:38:41 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:38:41 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:38:41 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:38:41 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 17:38:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 17:38:41 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 17:38:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 17:38:41 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 17:38:41 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 17:38:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 17:38:41 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 6.337 seconds (process running for 6.696)
2025-09-29 17:38:45 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 17:38:45 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 17:38:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 17:38:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 17:38:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 17:38:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@a200a54
2025-09-29 17:38:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7ec09f73
2025-09-29 17:38:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 17:38:45 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 15 ms
2025-09-29 17:38:45 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-13&passengerCount=3", parameters={masked}
2025-09-29 17:38:45 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:38:45 [http-nio-8080-exec-2] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:38:46 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:38:46 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:38:46 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-13
2025-09-29 17:38:46 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-13 (max 2 stops)
2025-09-29 17:38:46 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-13
2025-09-29 17:38:46 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (1 stop)
2025-09-29 17:38:46 [http-nio-8080-exec-2] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class org.springframework.data.mapping.MappingException
2025-09-29 17:38:46 [http-nio-8080-exec-2] ERROR c.f.s.controller.SearchController - Error processing flight search request: More than one matching node in the record
org.springframework.data.mapping.MappingException: More than one matching node in the record
	at org.springframework.data.neo4j.core.mapping.DefaultNeo4jEntityConverter.determineQueryRoot(DefaultNeo4jEntityConverter.java:163)
	at org.springframework.data.neo4j.core.mapping.DefaultNeo4jEntityConverter.read(DefaultNeo4jEntityConverter.java:118)
	at org.springframework.data.neo4j.core.mapping.DefaultNeo4jEntityConverter.read(DefaultNeo4jEntityConverter.java:71)
	at org.springframework.data.neo4j.core.mapping.Schema.lambda$getRequiredMappingFunctionFor$0(Schema.java:96)
	at org.springframework.data.neo4j.core.mapping.EntityInstanceWithSource.lambda$decorateMappingFunction$0(EntityInstanceWithSource.java:49)
	at org.springframework.data.neo4j.core.PreparedQuery$AggregatingMappingFunction.apply(PreparedQuery.java:246)
	at org.springframework.data.neo4j.core.PreparedQuery$AggregatingMappingFunction.apply(PreparedQuery.java:158)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.lambda$partialMappingFunction$0(DefaultNeo4jClient.java:490)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:475)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getResults$1(Neo4jTemplate.java:1263)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getResults(Neo4jTemplate.java:1262)
	at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:51)
	at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:93)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findConnectingFlightsWithTwoStops(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:124)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 17:38:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:38:46 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-13, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:38:46 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 17:40:37 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 17:40:37 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 17:40:37 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 564689266
2025-09-29 17:40:38 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:40:38 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 17:40:38 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 17:40:53 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 32203 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 17:40:53 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 17:40:53 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 91 ms. Found 6 JPA repository interfaces.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 3 Neo4j repository interfaces.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 JDBC repository interfaces.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:40:54 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Neo4j repository interfaces.
2025-09-29 17:40:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 17:40:55 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 17:40:55 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 17:40:55 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 17:40:55 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1201 ms
2025-09-29 17:40:55 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 17:40:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 17:40:55 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@1c6ac73c
2025-09-29 17:40:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 17:40:55 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 17:40:55 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 17:40:55 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 17:40:55 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 17:40:55 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 17:40:55 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 17:40:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 17:40:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:40:57 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 17:40:58 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1276531243 created for server address localhost:7687
2025-09-29 17:40:58 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:40:58 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:40:58 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:40:58 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 17:40:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 17:40:59 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 17:40:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 17:40:59 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 17:40:59 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 17:40:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 17:40:59 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 6.188 seconds (process running for 6.643)
2025-09-29 17:42:22 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 17:42:22 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 17:42:22 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1276531243
2025-09-29 17:42:22 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:42:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 17:42:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 17:42:40 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 32615 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 17:42:40 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 17:42:40 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 86 ms. Found 6 JPA repository interfaces.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 3 Neo4j repository interfaces.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 JDBC repository interfaces.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:42:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Neo4j repository interfaces.
2025-09-29 17:42:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 17:42:42 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 17:42:42 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 17:42:42 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 17:42:42 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1363 ms
2025-09-29 17:42:42 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 17:42:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 17:42:42 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@3355168
2025-09-29 17:42:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 17:42:43 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 17:42:43 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 17:42:43 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 17:42:43 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 17:42:43 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 17:42:43 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 17:42:44 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 17:42:45 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:42:45 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 17:42:46 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1415443141 created for server address localhost:7687
2025-09-29 17:42:46 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:42:46 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:42:46 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:42:46 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 17:42:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 17:42:46 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 17:42:46 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 17:42:47 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 17:42:47 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 17:42:47 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 17:42:47 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 6.799 seconds (process running for 7.158)
2025-09-29 17:42:50 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 17:42:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 17:42:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 17:42:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 17:42:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 17:42:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@47c81691
2025-09-29 17:42:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@67ac1be1
2025-09-29 17:42:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 17:42:50 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 11 ms
2025-09-29 17:42:50 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-13&passengerCount=3", parameters={masked}
2025-09-29 17:42:50 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:42:51 [http-nio-8080-exec-1] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:42:51 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:42:51 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:42:51 [http-nio-8080-exec-1] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-13
2025-09-29 17:42:51 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-13 (max 2 stops)
2025-09-29 17:42:51 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-13
2025-09-29 17:42:51 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (1 stop)
2025-09-29 17:42:51 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 17:42:51 [http-nio-8080-exec-1] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 17:42:51 [http-nio-8080-exec-1] INFO  c.f.s.controller.SearchController - Search completed successfully. Found 0 flight options
2025-09-29 17:42:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:42:51 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-13, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:42:51 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-29 17:43:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=LAX&departureDate=2025-10-13&passengerCount=3", parameters={masked}
2025-09-29 17:43:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:43:01 [http-nio-8080-exec-3] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to LAX on 2025-10-13 for 3 passengers
2025-09-29 17:43:01 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to LAX on 2025-10-13 for 3 passengers
2025-09-29 17:43:01 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:43:01 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to LAX on 2025-10-13
2025-09-29 17:43:01 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to LAX on 2025-10-13 (max 2 stops)
2025-09-29 17:43:01 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> LAX on 2025-10-13
2025-09-29 17:43:01 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (1 stop)
2025-09-29 17:43:01 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 17:43:01 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 17:43:01 [http-nio-8080-exec-3] INFO  c.f.s.controller.SearchController - Search completed successfully. Found 0 flight options
2025-09-29 17:43:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:43:01 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=LAX, departureDate=2025-10-13, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:43:01 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-29 17:43:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-13&passengerCount=3", parameters={masked}
2025-09-29 17:43:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:43:07 [http-nio-8080-exec-4] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:43:07 [http-nio-8080-exec-4] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 17:43:07 [http-nio-8080-exec-4] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:43:07 [http-nio-8080-exec-4] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-13
2025-09-29 17:43:07 [http-nio-8080-exec-4] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-13 (max 2 stops)
2025-09-29 17:43:07 [http-nio-8080-exec-4] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-13
2025-09-29 17:43:07 [http-nio-8080-exec-4] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (1 stop)
2025-09-29 17:43:07 [http-nio-8080-exec-4] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 17:43:07 [http-nio-8080-exec-4] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 17:43:07 [http-nio-8080-exec-4] INFO  c.f.s.controller.SearchController - Search completed successfully. Found 0 flight options
2025-09-29 17:43:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:43:07 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-13, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:43:07 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-29 17:43:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=PAX&departureDate=2025-10-13&passengerCount=3", parameters={masked}
2025-09-29 17:43:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:43:12 [http-nio-8080-exec-5] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to PAX on 2025-10-13 for 3 passengers
2025-09-29 17:43:12 [http-nio-8080-exec-5] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to PAX on 2025-10-13 for 3 passengers
2025-09-29 17:43:12 [http-nio-8080-exec-5] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:43:12 [http-nio-8080-exec-5] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to PAX on 2025-10-13
2025-09-29 17:43:12 [http-nio-8080-exec-5] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to PAX on 2025-10-13 (max 2 stops)
2025-09-29 17:43:12 [http-nio-8080-exec-5] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> PAX on 2025-10-13
2025-09-29 17:43:12 [http-nio-8080-exec-5] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (1 stop)
2025-09-29 17:43:12 [http-nio-8080-exec-5] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 17:43:12 [http-nio-8080-exec-5] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 17:43:12 [http-nio-8080-exec-5] INFO  c.f.s.controller.SearchController - Search completed successfully. Found 0 flight options
2025-09-29 17:43:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:43:12 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=PAX, departureDate=2025-10-13, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:43:12 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-29 17:43:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=DDL&departureDate=2025-10-13&passengerCount=3", parameters={masked}
2025-09-29 17:43:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:43:18 [http-nio-8080-exec-6] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to DDL on 2025-10-13 for 3 passengers
2025-09-29 17:43:18 [http-nio-8080-exec-6] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to DDL on 2025-10-13 for 3 passengers
2025-09-29 17:43:18 [http-nio-8080-exec-6] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:43:18 [http-nio-8080-exec-6] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to DDL on 2025-10-13
2025-09-29 17:43:18 [http-nio-8080-exec-6] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to DDL on 2025-10-13 (max 2 stops)
2025-09-29 17:43:18 [http-nio-8080-exec-6] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> DDL on 2025-10-13
2025-09-29 17:43:18 [http-nio-8080-exec-6] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (1 stop)
2025-09-29 17:43:18 [http-nio-8080-exec-6] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 17:43:18 [http-nio-8080-exec-6] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 17:43:18 [http-nio-8080-exec-6] INFO  c.f.s.controller.SearchController - Search completed successfully. Found 0 flight options
2025-09-29 17:43:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:43:18 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=DDL, departureDate=2025-10-13, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:43:18 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-29 17:43:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=DDL&departureDate=2025-10-01&passengerCount=3", parameters={masked}
2025-09-29 17:43:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:43:52 [http-nio-8080-exec-9] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to DDL on 2025-10-01 for 3 passengers
2025-09-29 17:43:52 [http-nio-8080-exec-9] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to DDL on 2025-10-01 for 3 passengers
2025-09-29 17:43:52 [http-nio-8080-exec-9] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:43:52 [http-nio-8080-exec-9] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to DDL on 2025-10-01
2025-09-29 17:43:52 [http-nio-8080-exec-9] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to DDL on 2025-10-01 (max 2 stops)
2025-09-29 17:43:52 [http-nio-8080-exec-9] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> DDL on 2025-10-01
2025-09-29 17:43:52 [http-nio-8080-exec-9] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (1 stop)
2025-09-29 17:43:52 [http-nio-8080-exec-9] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 17:43:52 [http-nio-8080-exec-9] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 17:43:52 [http-nio-8080-exec-9] INFO  c.f.s.controller.SearchController - Search completed successfully. Found 0 flight options
2025-09-29 17:43:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:43:52 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=DDL, departureDate=2025-10-01, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:43:52 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-29 17:43:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=LAX&departureDate=2025-10-01&passengerCount=3", parameters={masked}
2025-09-29 17:43:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:43:59 [http-nio-8080-exec-10] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to LAX on 2025-10-01 for 3 passengers
2025-09-29 17:43:59 [http-nio-8080-exec-10] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to LAX on 2025-10-01 for 3 passengers
2025-09-29 17:43:59 [http-nio-8080-exec-10] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:43:59 [http-nio-8080-exec-10] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to LAX on 2025-10-01
2025-09-29 17:43:59 [http-nio-8080-exec-10] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to LAX on 2025-10-01 (max 2 stops)
2025-09-29 17:43:59 [http-nio-8080-exec-10] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> LAX on 2025-10-01
2025-09-29 17:43:59 [http-nio-8080-exec-10] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (1 stop)
2025-09-29 17:43:59 [http-nio-8080-exec-10] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 17:43:59 [http-nio-8080-exec-10] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 17:43:59 [http-nio-8080-exec-10] INFO  c.f.s.controller.SearchController - Search completed successfully. Found 0 flight options
2025-09-29 17:43:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:43:59 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=LAX, departureDate=2025-10-01, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:43:59 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-29 17:48:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=1", parameters={masked}
2025-09-29 17:48:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:48:40 [http-nio-8080-exec-1] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 17:48:40 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 17:48:40 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:48:40 [http-nio-8080-exec-1] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 17:48:40 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 17:48:40 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 17:48:40 [http-nio-8080-exec-1] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class org.springframework.data.mapping.MappingException
2025-09-29 17:48:40 [http-nio-8080-exec-1] ERROR c.f.s.controller.SearchController - Error processing flight search request: More than one matching node in the record
org.springframework.data.mapping.MappingException: More than one matching node in the record
	at org.springframework.data.neo4j.core.mapping.DefaultNeo4jEntityConverter.determineQueryRoot(DefaultNeo4jEntityConverter.java:163)
	at org.springframework.data.neo4j.core.mapping.DefaultNeo4jEntityConverter.read(DefaultNeo4jEntityConverter.java:118)
	at org.springframework.data.neo4j.core.mapping.DefaultNeo4jEntityConverter.read(DefaultNeo4jEntityConverter.java:71)
	at org.springframework.data.neo4j.core.mapping.Schema.lambda$getRequiredMappingFunctionFor$0(Schema.java:96)
	at org.springframework.data.neo4j.core.mapping.EntityInstanceWithSource.lambda$decorateMappingFunction$0(EntityInstanceWithSource.java:49)
	at org.springframework.data.neo4j.core.PreparedQuery$AggregatingMappingFunction.apply(PreparedQuery.java:246)
	at org.springframework.data.neo4j.core.PreparedQuery$AggregatingMappingFunction.apply(PreparedQuery.java:158)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.lambda$partialMappingFunction$0(DefaultNeo4jClient.java:490)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:475)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getResults$1(Neo4jTemplate.java:1263)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getResults(Neo4jTemplate.java:1262)
	at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:51)
	at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:93)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findConnectingFlightsWithOneStop(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:111)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 17:48:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:48:40 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=1, totalResults (truncated)...]
2025-09-29 17:48:40 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 17:49:59 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 17:49:59 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 17:49:59 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1415443141
2025-09-29 17:49:59 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:49:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 17:49:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 17:50:24 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 33832 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 17:50:24 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 17:50:24 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 17:50:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:50:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 17:50:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 87 ms. Found 6 JPA repository interfaces.
2025-09-29 17:50:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:50:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:50:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 Neo4j repository interfaces.
2025-09-29 17:50:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:50:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 JDBC repository interfaces.
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:50:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Neo4j repository interfaces.
2025-09-29 17:50:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 17:50:25 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 17:50:25 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 17:50:25 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 17:50:25 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1186 ms
2025-09-29 17:50:25 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 17:50:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 17:50:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@405d8a80
2025-09-29 17:50:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 17:50:25 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 17:50:25 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 17:50:25 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 17:50:25 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 17:50:25 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 17:50:25 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 17:50:27 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 17:50:27 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:50:27 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 17:50:29 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 102297786 created for server address localhost:7687
2025-09-29 17:50:29 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:50:29 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:50:29 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:50:29 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 17:50:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 17:50:29 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 17:50:29 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 17:50:29 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 17:50:29 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 17:50:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 17:50:29 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 5.895 seconds (process running for 6.294)
2025-09-29 17:50:30 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 17:50:30 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 17:50:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 17:50:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 17:50:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 17:50:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5e17bdb1
2025-09-29 17:50:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4a787615
2025-09-29 17:50:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 17:50:30 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-09-29 17:50:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=1", parameters={masked}
2025-09-29 17:50:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:50:30 [http-nio-8080-exec-1] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 17:50:30 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 17:50:30 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:50:30 [http-nio-8080-exec-1] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 17:50:30 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 17:50:30 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 17:50:30 [http-nio-8080-exec-1] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class java.lang.IllegalArgumentException
2025-09-29 17:50:30 [http-nio-8080-exec-1] ERROR c.f.s.controller.SearchController - Error processing flight search request: Records with more than one value cannot be converted without a mapper
org.springframework.dao.InvalidDataAccessApiUsageException: Records with more than one value cannot be converted without a mapper
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findConnectingFlightsWithOneStop(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:111)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.IllegalArgumentException: Records with more than one value cannot be converted without a mapper
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:54)
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:34)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.lambda$partialMappingFunction$0(DefaultNeo4jClient.java:490)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:475)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getResults$1(Neo4jTemplate.java:1263)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getResults(Neo4jTemplate.java:1262)
	at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:51)
	at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:93)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 79 common frames omitted
2025-09-29 17:50:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:50:30 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=1, totalResults (truncated)...]
2025-09-29 17:50:30 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 17:50:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=3", parameters={masked}
2025-09-29 17:50:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:50:35 [http-nio-8080-exec-3] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 17:50:35 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 17:50:35 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:50:35 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 17:50:35 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 17:50:35 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 17:50:35 [http-nio-8080-exec-3] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class java.lang.IllegalArgumentException
2025-09-29 17:50:35 [http-nio-8080-exec-3] ERROR c.f.s.controller.SearchController - Error processing flight search request: Records with more than one value cannot be converted without a mapper
org.springframework.dao.InvalidDataAccessApiUsageException: Records with more than one value cannot be converted without a mapper
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findConnectingFlightsWithOneStop(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:111)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.IllegalArgumentException: Records with more than one value cannot be converted without a mapper
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:54)
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:34)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.lambda$partialMappingFunction$0(DefaultNeo4jClient.java:490)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:475)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getResults$1(Neo4jTemplate.java:1263)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getResults(Neo4jTemplate.java:1262)
	at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:51)
	at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:93)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 79 common frames omitted
2025-09-29 17:50:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:50:35 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:50:35 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 17:52:31 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 17:52:31 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 17:52:31 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 102297786
2025-09-29 17:52:31 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:52:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 17:52:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 17:52:47 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 34466 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 17:52:47 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 17:52:47 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 96 ms. Found 6 JPA repository interfaces.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 Neo4j repository interfaces.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 0 JDBC repository interfaces.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:52:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Neo4j repository interfaces.
2025-09-29 17:52:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 17:52:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 17:52:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 17:52:48 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 17:52:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1572 ms
2025-09-29 17:52:48 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 17:52:48 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 17:52:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@23469199
2025-09-29 17:52:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 17:52:49 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 17:52:49 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 17:52:49 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 17:52:49 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 17:52:49 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 17:52:49 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 17:52:50 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 17:52:51 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:52:51 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 17:52:52 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1503867085 created for server address localhost:7687
2025-09-29 17:52:52 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:52:52 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:52:52 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:52:53 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 17:52:53 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 17:52:53 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 17:52:53 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 17:52:53 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 17:52:53 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 17:52:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 17:52:53 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 7.058 seconds (process running for 7.435)
2025-09-29 17:52:55 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 17:52:55 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 17:52:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 17:52:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 17:52:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 17:52:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@a57b4bd
2025-09-29 17:52:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@a200a54
2025-09-29 17:52:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 17:52:55 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 4 ms
2025-09-29 17:52:55 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=3", parameters={masked}
2025-09-29 17:52:55 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:52:55 [http-nio-8080-exec-2] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 17:52:55 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 17:52:55 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:52:55 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 17:52:55 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 17:52:55 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 17:52:55 [http-nio-8080-exec-2] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class org.springframework.data.mapping.MappingException
2025-09-29 17:52:55 [http-nio-8080-exec-2] ERROR c.f.s.controller.SearchController - Error processing flight search request: More than one matching node in the record
org.springframework.data.mapping.MappingException: More than one matching node in the record
	at org.springframework.data.neo4j.core.mapping.DefaultNeo4jEntityConverter.determineQueryRoot(DefaultNeo4jEntityConverter.java:163)
	at org.springframework.data.neo4j.core.mapping.DefaultNeo4jEntityConverter.read(DefaultNeo4jEntityConverter.java:118)
	at org.springframework.data.neo4j.core.mapping.DefaultNeo4jEntityConverter.read(DefaultNeo4jEntityConverter.java:71)
	at org.springframework.data.neo4j.core.mapping.Schema.lambda$getRequiredMappingFunctionFor$0(Schema.java:96)
	at org.springframework.data.neo4j.core.mapping.EntityInstanceWithSource.lambda$decorateMappingFunction$0(EntityInstanceWithSource.java:49)
	at org.springframework.data.neo4j.core.PreparedQuery$AggregatingMappingFunction.apply(PreparedQuery.java:246)
	at org.springframework.data.neo4j.core.PreparedQuery$AggregatingMappingFunction.apply(PreparedQuery.java:158)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.lambda$partialMappingFunction$0(DefaultNeo4jClient.java:490)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:475)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getResults$1(Neo4jTemplate.java:1263)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getResults(Neo4jTemplate.java:1262)
	at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:51)
	at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:93)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findConnectingFlightsWithOneStop(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:112)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 17:52:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:52:56 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:52:56 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 17:53:25 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=1", parameters={masked}
2025-09-29 17:53:25 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:53:26 [http-nio-8080-exec-3] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 17:53:26 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 17:53:26 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:53:26 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 17:53:26 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 17:53:26 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 17:53:26 [http-nio-8080-exec-3] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class org.springframework.data.mapping.MappingException
2025-09-29 17:53:26 [http-nio-8080-exec-3] ERROR c.f.s.controller.SearchController - Error processing flight search request: More than one matching node in the record
org.springframework.data.mapping.MappingException: More than one matching node in the record
	at org.springframework.data.neo4j.core.mapping.DefaultNeo4jEntityConverter.determineQueryRoot(DefaultNeo4jEntityConverter.java:163)
	at org.springframework.data.neo4j.core.mapping.DefaultNeo4jEntityConverter.read(DefaultNeo4jEntityConverter.java:118)
	at org.springframework.data.neo4j.core.mapping.DefaultNeo4jEntityConverter.read(DefaultNeo4jEntityConverter.java:71)
	at org.springframework.data.neo4j.core.mapping.Schema.lambda$getRequiredMappingFunctionFor$0(Schema.java:96)
	at org.springframework.data.neo4j.core.mapping.EntityInstanceWithSource.lambda$decorateMappingFunction$0(EntityInstanceWithSource.java:49)
	at org.springframework.data.neo4j.core.PreparedQuery$AggregatingMappingFunction.apply(PreparedQuery.java:246)
	at org.springframework.data.neo4j.core.PreparedQuery$AggregatingMappingFunction.apply(PreparedQuery.java:158)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.lambda$partialMappingFunction$0(DefaultNeo4jClient.java:490)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:475)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getResults$1(Neo4jTemplate.java:1263)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getResults(Neo4jTemplate.java:1262)
	at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:51)
	at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:93)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findConnectingFlightsWithOneStop(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:112)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 17:53:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:53:26 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=1, totalResults (truncated)...]
2025-09-29 17:53:26 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 17:53:33 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=3", parameters={masked}
2025-09-29 17:53:33 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:53:34 [http-nio-8080-exec-5] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 17:53:34 [http-nio-8080-exec-5] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 17:53:34 [http-nio-8080-exec-5] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:53:34 [http-nio-8080-exec-5] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 17:53:34 [http-nio-8080-exec-5] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 17:53:34 [http-nio-8080-exec-5] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 17:53:34 [http-nio-8080-exec-5] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class org.springframework.data.mapping.MappingException
2025-09-29 17:53:34 [http-nio-8080-exec-5] ERROR c.f.s.controller.SearchController - Error processing flight search request: More than one matching node in the record
org.springframework.data.mapping.MappingException: More than one matching node in the record
	at org.springframework.data.neo4j.core.mapping.DefaultNeo4jEntityConverter.determineQueryRoot(DefaultNeo4jEntityConverter.java:163)
	at org.springframework.data.neo4j.core.mapping.DefaultNeo4jEntityConverter.read(DefaultNeo4jEntityConverter.java:118)
	at org.springframework.data.neo4j.core.mapping.DefaultNeo4jEntityConverter.read(DefaultNeo4jEntityConverter.java:71)
	at org.springframework.data.neo4j.core.mapping.Schema.lambda$getRequiredMappingFunctionFor$0(Schema.java:96)
	at org.springframework.data.neo4j.core.mapping.EntityInstanceWithSource.lambda$decorateMappingFunction$0(EntityInstanceWithSource.java:49)
	at org.springframework.data.neo4j.core.PreparedQuery$AggregatingMappingFunction.apply(PreparedQuery.java:246)
	at org.springframework.data.neo4j.core.PreparedQuery$AggregatingMappingFunction.apply(PreparedQuery.java:158)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.lambda$partialMappingFunction$0(DefaultNeo4jClient.java:490)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:475)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getResults$1(Neo4jTemplate.java:1263)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getResults(Neo4jTemplate.java:1262)
	at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:51)
	at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:93)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findConnectingFlightsWithOneStop(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:112)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:72)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 17:53:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:53:34 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:53:34 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 17:54:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=MAD&destination=DTW&departureDate=2025-09-29&passengerCount=3", parameters={masked}
2025-09-29 17:54:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:54:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.flightbooking.common.exception.GlobalExceptionHandler#handleValidationExceptions(MethodArgumentNotValidException)
2025-09-29 17:54:32 [http-nio-8080-exec-7] WARN  c.f.c.e.GlobalExceptionHandler - Validation error occurred: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.flightbooking.search.dto.SearchResponse> com.flightbooking.search.controller.SearchController.searchFlights(com.flightbooking.search.dto.SearchRequest): [Field error in object 'searchRequest' on field 'departureDate': rejected value [2025-09-29]; codes [Future.searchRequest.departureDate,Future.departureDate,Future.java.time.LocalDate,Future]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [searchRequest.departureDate,departureDate]; arguments []; default message [departureDate]]; default message [Departure date must be in the future]] 
2025-09-29 17:54:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:54:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{validationErrors={departureDate=Departure date must be in the future}, error=Validation Failed, mes (truncated)...]
2025-09-29 17:54:32 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<com.flightbooking.search.dto.SearchResponse> com.flightbooking.search.controller.SearchController.searchFlights(com.flightbooking.search.dto.SearchRequest): [Field error in object 'searchRequest' on field 'departureDate': rejected value [2025-09-29]; codes [Future.searchRequest.departureDate,Future.departureDate,Future.java.time.LocalDate,Future]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [searchRequest.departureDate,departureDate]; arguments []; default message [departureDate]]; default message [Departure date must be in the future]] ]
2025-09-29 17:54:32 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
2025-09-29 17:55:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=MAD&destination=DTW&departureDate=2025-10-22&passengerCount=3", parameters={masked}
2025-09-29 17:55:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:55:02 [http-nio-8080-exec-8] INFO  c.f.s.controller.SearchController - Received flight search request: MAD to DTW on 2025-10-22 for 3 passengers
2025-09-29 17:55:02 [http-nio-8080-exec-8] INFO  c.f.s.service.FlightSearchService - Starting flight search: MAD to DTW on 2025-10-22 for 3 passengers
2025-09-29 17:55:02 [http-nio-8080-exec-8] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:55:02 [http-nio-8080-exec-8] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: MAD to DTW on 2025-10-22
2025-09-29 17:55:02 [http-nio-8080-exec-8] DEBUG c.f.search.service.ItineraryService - Creating itineraries: MAD to DTW on 2025-10-22 (max 2 stops)
2025-09-29 17:55:02 [http-nio-8080-exec-8] DEBUG c.f.search.service.ItineraryService - Found 1 direct flights for MAD -> DTW on 2025-10-22
2025-09-29 17:55:02 [http-nio-8080-exec-8] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (1 stop)
2025-09-29 17:55:02 [http-nio-8080-exec-8] DEBUG c.f.search.service.ItineraryService - Found 1 total paths from Neo4j graph traversal
2025-09-29 17:55:02 [http-nio-8080-exec-8] DEBUG c.f.search.service.ItineraryService - Processing path with 1 flights, length: 1
2025-09-29 17:55:02 [http-nio-8080-exec-8] DEBUG c.f.search.service.ItineraryService - Flight seats debug - Flight IDs: [6278], Available seats: [50]
2025-09-29 17:55:02 [http-nio-8080-exec-8] DEBUG c.f.search.service.ItineraryService - Generated flightLegsHash: 30de24287a6d8f07b37c716ad51623a7
2025-09-29 17:55:02 [http-nio-8080-exec-8] INFO  c.f.search.service.ItineraryService - Saving 1 generated itineraries to cache
2025-09-29 17:55:02 [http-nio-8080-exec-8] WARN  o.s.d.n.c.m.DefaultNeo4jIsNewStrategy - Instances of class com.flightbooking.search.entity.Itinerary with an assigned id will always be treated as new without version property
2025-09-29 17:55:02 [http-nio-8080-exec-8] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	UNWIND $__entities__ AS entity MERGE (itinerary:`Itinerary` {id: entity.__id__}) SET itinerary += entity.__properties__ RETURN id(itinerary) AS __elementId__, itinerary.id AS __id__
	                                                                                                                               ^
The query used a deprecated function: `id`.
2025-09-29 17:55:02 [http-nio-8080-exec-8] INFO  c.f.search.service.ItineraryService - Successfully saved 1 unique itineraries
2025-09-29 17:55:02 [http-nio-8080-exec-8] INFO  c.f.search.service.ItineraryService - Generated 1 itineraries using hybrid approach
2025-09-29 17:55:02 [http-nio-8080-exec-8] INFO  c.f.s.controller.SearchController - Search completed successfully. Found 1 flight options
2025-09-29 17:55:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:55:02 [http-nio-8080-exec-8] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=MAD, destination=DTW, departureDate=2025-10-22, passengerCount=3, totalResults (truncated)...]
2025-09-29 17:55:02 [http-nio-8080-exec-8] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-29 17:55:12 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 17:55:12 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 17:55:12 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1503867085
2025-09-29 17:55:12 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:55:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 17:55:12 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 17:55:30 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 35063 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 17:55:30 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 17:55:30 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 17:55:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:55:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 92 ms. Found 6 JPA repository interfaces.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 Neo4j repository interfaces.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 JDBC repository interfaces.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 17:55:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Neo4j repository interfaces.
2025-09-29 17:55:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 17:55:31 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 17:55:31 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 17:55:31 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 17:55:31 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1350 ms
2025-09-29 17:55:32 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 17:55:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 17:55:32 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@4a4b288a
2025-09-29 17:55:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 17:55:32 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 17:55:32 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 17:55:32 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 17:55:32 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 17:55:32 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 17:55:32 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 17:55:33 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 17:55:34 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 17:55:34 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 17:55:36 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1700669704 created for server address localhost:7687
2025-09-29 17:55:36 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:55:36 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:55:36 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 17:55:36 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 17:55:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 17:55:36 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 17:55:36 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 17:55:36 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 17:55:37 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 17:55:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 17:55:37 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 7.264 seconds (process running for 7.646)
2025-09-29 17:55:47 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 17:55:47 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 17:55:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 17:55:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 17:55:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 17:55:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@76419338
2025-09-29 17:55:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@5075a022
2025-09-29 17:55:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 17:55:47 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 9 ms
2025-09-29 17:55:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=1", parameters={masked}
2025-09-29 17:55:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 17:55:47 [http-nio-8080-exec-1] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 17:55:47 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 17:55:47 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 17:55:47 [http-nio-8080-exec-1] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 17:55:47 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 17:55:47 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 17:55:47 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - 1-stop connections temporarily disabled
2025-09-29 17:55:47 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 17:55:47 [http-nio-8080-exec-1] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 17:55:47 [http-nio-8080-exec-1] INFO  c.f.s.controller.SearchController - Search completed successfully. Found 0 flight options
2025-09-29 17:55:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 17:55:47 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=1, totalResults (truncated)...]
2025-09-29 17:55:47 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-29 18:06:15 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 18:06:15 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 18:06:15 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1700669704
2025-09-29 18:06:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:06:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 18:06:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 18:06:34 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 36867 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 18:06:34 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 18:06:34 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 18:06:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:06:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 18:06:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 104 ms. Found 6 JPA repository interfaces.
2025-09-29 18:06:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:06:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:06:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 7 ms. Found 3 Neo4j repository interfaces.
2025-09-29 18:06:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:06:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 10 ms. Found 0 JDBC repository interfaces.
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:06:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 2 ms. Found 0 Neo4j repository interfaces.
2025-09-29 18:06:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 18:06:36 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 18:06:36 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 18:06:36 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 18:06:36 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1607 ms
2025-09-29 18:06:36 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 18:06:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 18:06:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@15f861ee
2025-09-29 18:06:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 18:06:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 18:06:36 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 18:06:36 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 18:06:37 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 18:06:37 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 18:06:37 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 18:06:37 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 18:06:38 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:06:38 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 18:06:40 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 472708223 created for server address localhost:7687
2025-09-29 18:06:41 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:06:41 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:06:41 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:06:41 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 18:06:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 18:06:41 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 18:06:41 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 18:06:41 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 18:06:42 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 18:06:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 18:06:42 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 7.865 seconds (process running for 8.256)
2025-09-29 18:07:03 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 18:07:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 18:07:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 18:07:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 18:07:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 18:07:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4a787615
2025-09-29 18:07:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@69530799
2025-09-29 18:07:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 18:07:03 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 17 ms
2025-09-29 18:07:03 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=1", parameters={masked}
2025-09-29 18:07:03 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:07:03 [http-nio-8080-exec-1] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 18:07:03 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 18:07:03 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:07:03 [http-nio-8080-exec-1] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 18:07:03 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 18:07:03 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 18:07:03 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ WITH collect(id(flightInstanceNode)) AS __sn__ RETURN __sn__
	                                                                                               ^
The query used a deprecated function: `id`.
2025-09-29 18:07:03 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                       ^
The query used a deprecated function: `id`.
2025-09-29 18:07:03 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:03 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                       ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.unrecognized - Neo.ClientNotification.Statement.UnknownRelationshipTypeWarning: The provided relationship type is not in the database.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                               ^
One of the relationship types in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing relationship type is: INCLUDES_LEG)
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                              ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                     ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                      ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                     ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                      ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:04 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.unrecognized - Neo.ClientNotification.Statement.UnknownRelationshipTypeWarning: The provided relationship type is not in the database.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                  ^
One of the relationship types in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing relationship type is: INCLUDES_LEG)
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                 ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                            ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                             ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                     ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                      ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                     ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                      ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.unrecognized - Neo.ClientNotification.Statement.UnknownRelationshipTypeWarning: The provided relationship type is not in the database.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                  ^
One of the relationship types in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing relationship type is: INCLUDES_LEG)
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                 ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                            ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                             ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:05 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                     ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                      ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                     ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                      ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.unrecognized - Neo.ClientNotification.Statement.UnknownRelationshipTypeWarning: The provided relationship type is not in the database.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                  ^
One of the relationship types in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing relationship type is: INCLUDES_LEG)
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                 ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                            ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                             ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-1] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:07:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-13&passengerCount=3", parameters={masked}
2025-09-29 18:07:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:07:11 [http-nio-8080-exec-3] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 18:07:11 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-13 for 3 passengers
2025-09-29 18:07:11 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:07:11 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-13
2025-09-29 18:07:11 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-13 (max 2 stops)
2025-09-29 18:07:11 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-13
2025-09-29 18:07:11 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 connecting flights (1 stop)
2025-09-29 18:07:11 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 18:07:11 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 18:07:11 [http-nio-8080-exec-3] INFO  c.f.s.controller.SearchController - Search completed successfully. Found 0 flight options
2025-09-29 18:07:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:07:11 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-13, passengerCount=3, totalResults (truncated)...]
2025-09-29 18:07:11 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-29 18:07:35 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=3", parameters={masked}
2025-09-29 18:07:35 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:07:35 [http-nio-8080-exec-1] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class java.lang.RuntimeException
2025-09-29 18:07:35 [http-nio-8080-exec-4] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:07:35 [http-nio-8080-exec-4] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:07:35 [http-nio-8080-exec-1] ERROR c.f.s.controller.SearchController - Error processing flight search request: java.lang.OutOfMemoryError: Java heap space
java.lang.RuntimeException: java.lang.OutOfMemoryError: Java heap space
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:281)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findById(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.lambda$createItineraries$0(ItineraryService.java:132)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.lambda$partialMappingFunction$0(DefaultNeo4jClient.java:490)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:475)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:136)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.OutOfMemoryError: Java heap space
	at java.base/java.util.HashMap.resize(HashMap.java:710)
	at java.base/java.util.HashMap.putVal(HashMap.java:635)
	at java.base/java.util.HashMap.put(HashMap.java:618)
	at java.base/java.util.HashSet.add(HashSet.java:229)
	at java.base/java.util.AbstractCollection.addAll(AbstractCollection.java:338)
	at java.base/java.util.HashSet.<init>(HashSet.java:121)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1435)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2830/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2830/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2830/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2830/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2830/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2830/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2830/0x0000000801dc7dc0.accept(Unknown Source)
2025-09-29 18:07:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:07:35 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=1, totalResults (truncated)...]
2025-09-29 18:07:35 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 18:07:35 [http-nio-8080-exec-4] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:07:35 [http-nio-8080-exec-4] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 18:07:35 [http-nio-8080-exec-4] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 18:07:35 [http-nio-8080-exec-4] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ WITH collect(id(flightInstanceNode)) AS __sn__ RETURN __sn__
	                                                                                               ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                       ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                       ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.unrecognized - Neo.ClientNotification.Statement.UnknownRelationshipTypeWarning: The provided relationship type is not in the database.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                               ^
One of the relationship types in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing relationship type is: INCLUDES_LEG)
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                              ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                     ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                      ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                     ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                      ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.unrecognized - Neo.ClientNotification.Statement.UnknownRelationshipTypeWarning: The provided relationship type is not in the database.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                  ^
One of the relationship types in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing relationship type is: INCLUDES_LEG)
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                 ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                            ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                             ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                     ^
The query used a deprecated function: `id`.
2025-09-29 18:07:35 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                      ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                     ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                      ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.unrecognized - Neo.ClientNotification.Statement.UnknownRelationshipTypeWarning: The provided relationship type is not in the database.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                  ^
One of the relationship types in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing relationship type is: INCLUDES_LEG)
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                 ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                            ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                             ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:36 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                     ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`DEPARTS_WITH`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                      ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                     ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                                      ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.unrecognized - Neo.ClientNotification.Statement.UnknownRelationshipTypeWarning: The provided relationship type is not in the database.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)<-[__sr__:`INCLUDES_LEG`]-(__srn__:`FlightInstance`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                  ^
One of the relationship types in your query is not available in the database, make sure you didn't misspell it or that the label is available when you run this statement in your application (the missing relationship type is: INCLUDES_LEG)
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                 ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                            ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                             ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)<-[__sr__:`ARRIVES_AT`]-(__srn__:`Airport`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:07:41 [http-nio-8080-exec-4] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:08:00 [http-nio-8080-exec-4] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class java.lang.RuntimeException
2025-09-29 18:08:00 [http-nio-8080-exec-4] ERROR c.f.s.controller.SearchController - Error processing flight search request: java.lang.OutOfMemoryError: Java heap space
java.lang.RuntimeException: java.lang.OutOfMemoryError: Java heap space
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:281)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findById(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.lambda$createItineraries$0(ItineraryService.java:132)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.lambda$partialMappingFunction$0(DefaultNeo4jClient.java:490)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:475)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:136)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.OutOfMemoryError: Java heap space
	at java.base/java.util.HashMap.resize(HashMap.java:710)
	at java.base/java.util.HashMap.putVal(HashMap.java:635)
	at java.base/java.util.HashMap.put(HashMap.java:618)
	at java.base/java.util.HashSet.add(HashSet.java:229)
	at java.base/java.util.AbstractCollection.addAll(AbstractCollection.java:338)
	at java.base/java.util.HashSet.<init>(HashSet.java:121)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1435)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2830/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2830/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2830/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2830/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2830/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2830/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2830/0x0000000801dc7dc0.accept(Unknown Source)
2025-09-29 18:08:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:08:00 [http-nio-8080-exec-4] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=3, totalResults (truncated)...]
2025-09-29 18:08:00 [http-nio-8080-exec-4] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 18:08:57 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 18:08:57 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 18:08:57 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 472708223
2025-09-29 18:08:57 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:08:57 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 18:08:57 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 18:13:52 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 38194 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 18:13:52 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 18:13:52 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 93 ms. Found 6 JPA repository interfaces.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 3 Neo4j repository interfaces.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 13 ms. Found 0 JDBC repository interfaces.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:13:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Neo4j repository interfaces.
2025-09-29 18:13:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 18:13:54 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 18:13:54 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 18:13:54 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 18:13:54 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1553 ms
2025-09-29 18:13:54 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 18:13:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 18:13:54 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@1c6ac73c
2025-09-29 18:13:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 18:13:54 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 18:13:55 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 18:13:55 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 18:13:55 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 18:13:55 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 18:13:55 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 18:13:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 18:13:57 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:13:57 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 18:13:58 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 738015600 created for server address localhost:7687
2025-09-29 18:13:59 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:13:59 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:13:59 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:13:59 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 18:13:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 18:13:59 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 18:13:59 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 18:13:59 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 18:14:00 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 18:14:00 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 18:14:00 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 8.244 seconds (process running for 9.074)
2025-09-29 18:14:05 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 18:14:05 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 18:14:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 18:14:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 18:14:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 18:14:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4a787615
2025-09-29 18:14:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@69530799
2025-09-29 18:14:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 18:14:05 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 15 ms
2025-09-29 18:14:05 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=3", parameters={masked}
2025-09-29 18:14:05 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:14:05 [http-nio-8080-exec-2] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:14:06 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:14:06 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:14:06 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 18:14:06 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 18:14:06 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 18:14:06 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Testing findConnectingFlightsWithOneStop for JFK -> RIC on 2025-10-01T00:00Z
2025-09-29 18:14:06 [http-nio-8080-exec-2] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class java.lang.IllegalArgumentException
2025-09-29 18:14:06 [http-nio-8080-exec-2] ERROR c.f.search.service.ItineraryService - Error calling findConnectingFlightsWithOneStop: Records with more than one value cannot be converted without a mapper
org.springframework.dao.InvalidDataAccessApiUsageException: Records with more than one value cannot be converted without a mapper
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findConnectingFlightsWithOneStop(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:115)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.IllegalArgumentException: Records with more than one value cannot be converted without a mapper
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:54)
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:34)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.lambda$partialMappingFunction$0(DefaultNeo4jClient.java:490)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:475)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getResults$1(Neo4jTemplate.java:1263)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getResults(Neo4jTemplate.java:1262)
	at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:51)
	at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:93)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 79 common frames omitted
2025-09-29 18:14:06 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 18:14:06 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 18:14:06 [http-nio-8080-exec-2] ERROR c.f.s.controller.SearchController - Error processing flight search request: Transaction rolled back because it has been marked as rollback-only
org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:938)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:754)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 18:14:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:14:06 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=3, totalResults (truncated)...]
2025-09-29 18:14:06 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 18:14:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=1", parameters={masked}
2025-09-29 18:14:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:14:41 [http-nio-8080-exec-3] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 18:14:41 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 18:14:41 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:14:41 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 18:14:41 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 18:14:41 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 18:14:41 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Testing findConnectingFlightsWithOneStop for JFK -> RIC on 2025-10-01T00:00Z
2025-09-29 18:14:41 [http-nio-8080-exec-3] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class java.lang.IllegalArgumentException
2025-09-29 18:14:41 [http-nio-8080-exec-3] ERROR c.f.search.service.ItineraryService - Error calling findConnectingFlightsWithOneStop: Records with more than one value cannot be converted without a mapper
org.springframework.dao.InvalidDataAccessApiUsageException: Records with more than one value cannot be converted without a mapper
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findConnectingFlightsWithOneStop(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:115)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.IllegalArgumentException: Records with more than one value cannot be converted without a mapper
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:54)
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:34)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.lambda$partialMappingFunction$0(DefaultNeo4jClient.java:490)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:475)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getResults$1(Neo4jTemplate.java:1263)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getResults(Neo4jTemplate.java:1262)
	at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:51)
	at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:93)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 79 common frames omitted
2025-09-29 18:14:41 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 18:14:41 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 18:14:41 [http-nio-8080-exec-3] ERROR c.f.s.controller.SearchController - Error processing flight search request: Transaction rolled back because it has been marked as rollback-only
org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:938)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:754)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 18:14:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:14:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=1, totalResults (truncated)...]
2025-09-29 18:14:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 18:17:37 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 18:17:37 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 18:17:37 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 738015600
2025-09-29 18:17:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:17:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 18:17:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 18:17:52 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 38960 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 18:17:52 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 18:17:52 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 95 ms. Found 6 JPA repository interfaces.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 3 Neo4j repository interfaces.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 JDBC repository interfaces.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:17:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Neo4j repository interfaces.
2025-09-29 18:17:54 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 18:17:54 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 18:17:54 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 18:17:54 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 18:17:54 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1658 ms
2025-09-29 18:17:54 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 18:17:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 18:17:54 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@15f861ee
2025-09-29 18:17:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 18:17:54 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 18:17:54 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 18:17:55 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 18:17:55 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 18:17:55 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 18:17:55 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 18:17:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 18:17:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:17:56 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 18:17:57 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 2128783027 created for server address localhost:7687
2025-09-29 18:17:57 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:17:57 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:17:57 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:17:57 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 18:17:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 18:17:58 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 18:17:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 18:17:58 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 18:17:58 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 18:17:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 18:17:58 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 6.699 seconds (process running for 7.383)
2025-09-29 18:18:02 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 18:18:02 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 18:18:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 18:18:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 18:18:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 18:18:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@344d9421
2025-09-29 18:18:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@578cda32
2025-09-29 18:18:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 18:18:02 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 15 ms
2025-09-29 18:18:02 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=3", parameters={masked}
2025-09-29 18:18:02 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:18:03 [http-nio-8080-exec-2] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:18:03 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:18:03 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:18:03 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 18:18:03 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 18:18:03 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 18:18:03 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Testing findConnectingFlightsWithOneStop for JFK -> RIC on 2025-10-01T00:00Z
2025-09-29 18:18:03 [http-nio-8080-exec-2] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class java.lang.IllegalArgumentException
2025-09-29 18:18:03 [http-nio-8080-exec-2] ERROR c.f.search.service.ItineraryService - Error calling findConnectingFlightsWithOneStop: Records with more than one value cannot be converted without a mapper
org.springframework.dao.InvalidDataAccessApiUsageException: Records with more than one value cannot be converted without a mapper
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findConnectingFlightsWithOneStop(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:115)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.IllegalArgumentException: Records with more than one value cannot be converted without a mapper
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:54)
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:34)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.lambda$partialMappingFunction$0(DefaultNeo4jClient.java:490)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:475)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getResults$1(Neo4jTemplate.java:1263)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getResults(Neo4jTemplate.java:1262)
	at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:51)
	at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:93)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 79 common frames omitted
2025-09-29 18:18:03 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 18:18:03 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 18:18:03 [http-nio-8080-exec-2] ERROR c.f.s.controller.SearchController - Error processing flight search request: Transaction rolled back because it has been marked as rollback-only
org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:938)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:754)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 18:18:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:18:03 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=3, totalResults (truncated)...]
2025-09-29 18:18:03 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 18:18:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=1", parameters={masked}
2025-09-29 18:18:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:18:16 [http-nio-8080-exec-3] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 18:18:16 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 18:18:16 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:18:16 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 18:18:16 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 18:18:16 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 18:18:16 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Testing findConnectingFlightsWithOneStop for JFK -> RIC on 2025-10-01T00:00Z
2025-09-29 18:18:16 [http-nio-8080-exec-3] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class java.lang.IllegalArgumentException
2025-09-29 18:18:16 [http-nio-8080-exec-3] ERROR c.f.search.service.ItineraryService - Error calling findConnectingFlightsWithOneStop: Records with more than one value cannot be converted without a mapper
org.springframework.dao.InvalidDataAccessApiUsageException: Records with more than one value cannot be converted without a mapper
	at org.springframework.orm.jpa.EntityManagerFactoryUtils.convertJpaAccessExceptionIfPossible(EntityManagerFactoryUtils.java:371)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:246)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findConnectingFlightsWithOneStop(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:115)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.IllegalArgumentException: Records with more than one value cannot be converted without a mapper
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:54)
	at org.springframework.data.neo4j.core.SingleValueMappingFunction.apply(SingleValueMappingFunction.java:34)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.lambda$partialMappingFunction$0(DefaultNeo4jClient.java:490)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)
	at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1921)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.neo4j.core.DefaultNeo4jClient$DefaultRecordFetchSpec.all(DefaultNeo4jClient.java:475)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getResults$1(Neo4jTemplate.java:1263)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.getResults(Neo4jTemplate.java:1262)
	at org.springframework.data.neo4j.repository.query.Neo4jQueryExecution$DefaultQueryExecution.execute(Neo4jQueryExecution.java:51)
	at org.springframework.data.neo4j.repository.query.AbstractNeo4jQuery.execute(AbstractNeo4jQuery.java:93)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 79 common frames omitted
2025-09-29 18:18:16 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 18:18:16 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 18:18:16 [http-nio-8080-exec-3] ERROR c.f.s.controller.SearchController - Error processing flight search request: Transaction rolled back because it has been marked as rollback-only
org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:938)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:754)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 18:18:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:18:16 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=1, totalResults (truncated)...]
2025-09-29 18:18:16 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 18:19:34 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 18:19:34 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 18:19:34 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 2128783027
2025-09-29 18:19:34 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:19:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 18:19:34 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 18:20:16 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 39593 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 18:20:16 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 18:20:16 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 95 ms. Found 6 JPA repository interfaces.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 3 Neo4j repository interfaces.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 JDBC repository interfaces.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Neo4j repository interfaces.
2025-09-29 18:20:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 18:20:18 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 18:20:18 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 18:20:18 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 18:20:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1628 ms
2025-09-29 18:20:18 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 18:20:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 18:20:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@6c24f61d
2025-09-29 18:20:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 18:20:18 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 18:20:19 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 18:20:19 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 18:20:20 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 18:20:20 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 18:20:20 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 18:20:22 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 18:20:23 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:20:24 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 18:20:26 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 102297786 created for server address localhost:7687
2025-09-29 18:20:27 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:20:27 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:20:27 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:20:27 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 18:20:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 18:20:27 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 18:20:27 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 18:20:27 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 18:20:28 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 18:20:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 18:20:28 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 12.276 seconds (process running for 12.642)
2025-09-29 18:20:40 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 18:20:40 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 18:20:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 18:20:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 18:20:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 18:20:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@57304755
2025-09-29 18:20:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@12a22dc4
2025-09-29 18:20:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 18:20:40 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-09-29 18:20:40 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=3", parameters={masked}
2025-09-29 18:20:40 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:20:40 [http-nio-8080-exec-2] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:20:40 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:20:40 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:20:40 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 18:20:40 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 18:20:40 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 18:20:40 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Testing findConnectingFlightsFirstLegIds for JFK -> RIC on 2025-10-01T00:00Z
2025-09-29 18:20:40 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Raw response from findConnectingFlightsFirstLegIds: 1 results
2025-09-29 18:20:40 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Raw response from findConnectingFlightsSecondLegIds: 1 results
2025-09-29 18:20:40 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Processing pair[0]: f1Id=1, f2Id=249
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ WITH collect(id(flightInstanceNode)) AS __sn__ RETURN __sn__
	                                                                                               ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=1", parameters={masked}
2025-09-29 18:20:41 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                              ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 18:20:41 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                 ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                            ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                             ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 18:20:41 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 18:20:41 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 18:20:41 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Testing findConnectingFlightsFirstLegIds for JFK -> RIC on 2025-10-01T00:00Z
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Raw response from findConnectingFlightsFirstLegIds: 1 results
2025-09-29 18:20:41 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Raw response from findConnectingFlightsSecondLegIds: 1 results
2025-09-29 18:20:41 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Processing pair[0]: f1Id=1, f2Id=249
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ WITH collect(id(flightInstanceNode)) AS __sn__ RETURN __sn__
	                                                                                               ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                              ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                 ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                            ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                             ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                 ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                            ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                             ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                 ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                            ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                             ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:20:41 [http-nio-8080-exec-3] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:22:05 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=3", parameters={masked}
2025-09-29 18:22:05 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=3", parameters={masked}
2025-09-29 18:22:05 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:22:05 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:22:06 [http-nio-8080-exec-5] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:22:06 [http-nio-8080-exec-7] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:22:06 [http-nio-8080-exec-3] ERROR c.f.search.service.ItineraryService - Error calling findConnectingFlights methods: java.lang.OutOfMemoryError: Java heap space
java.lang.RuntimeException: java.lang.OutOfMemoryError: Java heap space
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:281)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findById(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:130)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.OutOfMemoryError: Java heap space
	at java.base/java.util.HashMap.newNode(HashMap.java:1909)
	at java.base/java.util.HashMap.putVal(HashMap.java:637)
	at java.base/java.util.HashMap.put(HashMap.java:618)
	at java.base/java.util.HashSet.add(HashSet.java:229)
	at java.base/java.util.AbstractCollection.addAll(AbstractCollection.java:338)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1437)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.createNodesAndRelationshipsByIdStatementProvider(Neo4jTemplate.java:1370)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.createFetchSpec(Neo4jTemplate.java:1312)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getSingleResult$3(Neo4jTemplate.java:1275)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2730/0x0000000801d9b590.doInTransaction(Unknown Source)
2025-09-29 18:22:06 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 18:22:06 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 18:22:06 [http-nio-8080-exec-5] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:22:06 [http-nio-8080-exec-7] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:22:06 [http-nio-8080-exec-3] ERROR c.f.s.controller.SearchController - Error processing flight search request: Transaction rolled back because it has been marked as rollback-only
org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:938)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:754)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 18:22:06 [http-nio-8080-exec-5] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:22:06 [http-nio-8080-exec-7] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:22:06 [http-nio-8080-exec-7] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 18:22:06 [http-nio-8080-exec-7] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 18:22:06 [http-nio-8080-exec-5] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 18:22:06 [http-nio-8080-exec-5] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 18:22:06 [http-nio-8080-exec-5] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 18:22:06 [http-nio-8080-exec-5] INFO  c.f.search.service.ItineraryService - Testing findConnectingFlightsFirstLegIds for JFK -> RIC on 2025-10-01T00:00Z
2025-09-29 18:22:06 [http-nio-8080-exec-7] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 18:22:06 [http-nio-8080-exec-7] INFO  c.f.search.service.ItineraryService - Testing findConnectingFlightsFirstLegIds for JFK -> RIC on 2025-10-01T00:00Z
2025-09-29 18:22:06 [http-nio-8080-exec-7] INFO  c.f.search.service.ItineraryService - Raw response from findConnectingFlightsFirstLegIds: 1 results
2025-09-29 18:22:06 [http-nio-8080-exec-7] INFO  c.f.search.service.ItineraryService - Raw response from findConnectingFlightsSecondLegIds: 1 results
2025-09-29 18:22:06 [http-nio-8080-exec-7] INFO  c.f.search.service.ItineraryService - Processing pair[0]: f1Id=1, f2Id=249
2025-09-29 18:22:06 [http-nio-8080-exec-5] INFO  c.f.search.service.ItineraryService - Raw response from findConnectingFlightsFirstLegIds: 1 results
2025-09-29 18:22:06 [http-nio-8080-exec-5] INFO  c.f.search.service.ItineraryService - Raw response from findConnectingFlightsSecondLegIds: 1 results
2025-09-29 18:22:06 [http-nio-8080-exec-5] INFO  c.f.search.service.ItineraryService - Processing pair[0]: f1Id=1, f2Id=249
2025-09-29 18:22:06 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ WITH collect(id(flightInstanceNode)) AS __sn__ RETURN __sn__
	                                                                                               ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ WITH collect(id(flightInstanceNode)) AS __sn__ RETURN __sn__
	                                                                                               ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                              ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                              ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                         ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE flightInstanceNode.id = $__id__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                          ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                 ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                 ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                            ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                            ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                             ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                             ^
The query used a deprecated function: `id`.
2025-09-29 18:22:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:22:06 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=1, totalResults (truncated)...]
2025-09-29 18:22:06 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 18:22:07 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:22:07 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:22:07 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:07 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:07 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:07 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:22:07 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:07 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                 ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                            ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                             ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                 ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                            ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                             ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-7] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:22:08 [http-nio-8080-exec-5] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:22:37 [FlightBookingHikariCP:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Thread starvation or clock leap detected (housekeeper delta=1m7s276ms).
2025-09-29 18:24:20 [FlightBookingHikariCP:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Thread starvation or clock leap detected (housekeeper delta=55s555ms).
2025-09-29 18:24:20 [http-nio-8080-exec-5] ERROR c.f.search.service.ItineraryService - Error calling findConnectingFlights methods: java.lang.OutOfMemoryError: Java heap space
java.lang.RuntimeException: java.lang.OutOfMemoryError: Java heap space
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:281)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findById(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:130)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.OutOfMemoryError: Java heap space
	at java.base/java.util.HashMap.resize(HashMap.java:710)
	at java.base/java.util.HashMap.putVal(HashMap.java:635)
	at java.base/java.util.HashMap.put(HashMap.java:618)
	at java.base/java.util.HashSet.add(HashSet.java:229)
	at java.base/java.util.AbstractCollection.addAll(AbstractCollection.java:338)
	at java.base/java.util.HashSet.<init>(HashSet.java:121)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1435)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.createNodesAndRelationshipsByIdStatementProvider(Neo4jTemplate.java:1370)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.createFetchSpec(Neo4jTemplate.java:1312)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getSingleResult$3(Neo4jTemplate.java:1275)
2025-09-29 18:24:20 [http-nio-8080-exec-5] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 18:24:20 [http-nio-8080-exec-5] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 18:24:21 [http-nio-8080-exec-5] ERROR c.f.s.controller.SearchController - Error processing flight search request: Transaction rolled back because it has been marked as rollback-only
org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:938)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:754)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 18:24:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:24:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=3, totalResults (truncated)...]
2025-09-29 18:24:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.flightbooking.common.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-09-29 18:24:21 [http-nio-8080-exec-5] ERROR c.f.c.e.GlobalExceptionHandler - Unexpected error occurred: ServletOutputStream failed to flush: java.io.IOException: Broken pipe
org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: Broken pipe
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleHttpServletResponse.handleIOException(StandardServletAsyncWebRequest.java:346)
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.flush(StandardServletAsyncWebRequest.java:418)
	at java.base/java.io.FilterOutputStream.flush(FilterOutputStream.java:154)
	at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1205)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1063)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:485)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:126)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:345)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263)
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:304)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:266)
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:133)
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.flush(StandardServletAsyncWebRequest.java:415)
	... 57 common frames omitted
Caused by: java.io.IOException: Broken pipe
	at java.base/sun.nio.ch.SocketDispatcher.write0(Native Method)
	at java.base/sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:62)
	at java.base/sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:137)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:102)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:58)
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:542)
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:125)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:732)
	at org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:698)
	at org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:683)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:574)
	at org.apache.coyote.http11.filters.ChunkedOutputFilter.flush(ChunkedOutputFilter.java:156)
	at org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:216)
	at org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1273)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:408)
	at org.apache.coyote.Response.action(Response.java:208)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:300)
	... 60 common frames omitted
2025-09-29 18:24:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-09-29 18:24:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Internal Server Error, message=An unexpected error occurred, timestamp=2025-09-29T18:24:21.37 (truncated)...]
2025-09-29 18:24:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.m.m.a.DisconnectedClient - Looks like the client has gone away: org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe (For a full stack trace, set the log category 'org.apache.commons.logging.LogAdapter$Slf4jLocationAwareLog@3f08129a' to TRACE level.)
2025-09-29 18:24:21 [http-nio-8080-exec-5] DEBUG o.s.w.s.handler.DisconnectedClient - Looks like the client has gone away: org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: Broken pipe (For a full stack trace, set the log category 'org.apache.commons.logging.LogAdapter$Slf4jLocationAwareLog@68b72b0' to TRACE level.)
2025-09-29 18:24:21 [http-nio-8080-exec-5] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 18:24:27 [Catalina-utility-2] ERROR o.apache.catalina.core.ContainerBase - Exception processing background thread
java.util.concurrent.ExecutionException: java.lang.OutOfMemoryError: Java heap space
	at java.base/java.util.concurrent.FutureTask.report(FutureTask.java:122)
	at java.base/java.util.concurrent.FutureTask.get(FutureTask.java:191)
	at org.apache.catalina.core.ContainerBase.threadStart(ContainerBase.java:1097)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessorMonitor.run(ContainerBase.java:1141)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.OutOfMemoryError: Java heap space
	at org.apache.catalina.core.ContainerBase.findChildren(ContainerBase.java:637)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1173)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1176)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1176)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.processChildren(ContainerBase.java:1176)
	at org.apache.catalina.core.ContainerBase$ContainerBackgroundProcessor.run(ContainerBase.java:1154)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.runWith(Thread.java:1636)
	... 1 common frames omitted
2025-09-29 18:24:53 [FlightBookingHikariCP:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Thread starvation or clock leap detected (housekeeper delta=1m20s266ms).
2025-09-29 18:26:40 [FlightBookingHikariCP:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Thread starvation or clock leap detected (housekeeper delta=49s433ms).
2025-09-29 18:26:40 [http-nio-8080-exec-7] ERROR c.f.search.service.ItineraryService - Error calling findConnectingFlights methods: java.lang.OutOfMemoryError: Java heap space
java.lang.RuntimeException: java.lang.OutOfMemoryError: Java heap space
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:281)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findById(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:130)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.OutOfMemoryError: Java heap space
	at java.base/java.util.HashMap.newNode(HashMap.java:1909)
	at java.base/java.util.HashMap.putVal(HashMap.java:637)
	at java.base/java.util.HashMap.put(HashMap.java:618)
	at java.base/java.util.HashSet.add(HashSet.java:229)
	at java.base/java.util.AbstractCollection.addAll(AbstractCollection.java:338)
	at java.base/java.util.HashSet.<init>(HashSet.java:121)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1435)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.iterateNextLevel(Neo4jTemplate.java:1411)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$iterateAndMapNextLevel$10(Neo4jTemplate.java:1446)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery$$Lambda$2833/0x0000000801dc7dc0.accept(Unknown Source)
	at java.base/java.util.Optional.ifPresent(Optional.java:178)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.createNodesAndRelationshipsByIdStatementProvider(Neo4jTemplate.java:1370)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.createFetchSpec(Neo4jTemplate.java:1312)
	at org.springframework.data.neo4j.core.Neo4jTemplate$DefaultExecutableQuery.lambda$getSingleResult$3(Neo4jTemplate.java:1275)
2025-09-29 18:26:40 [http-nio-8080-exec-7] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 18:26:40 [http-nio-8080-exec-7] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 18:26:40 [http-nio-8080-exec-7] ERROR c.f.s.controller.SearchController - Error processing flight search request: Transaction rolled back because it has been marked as rollback-only
org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:938)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:754)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 18:26:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:26:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=3, totalResults (truncated)...]
2025-09-29 18:26:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.flightbooking.common.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-09-29 18:26:40 [http-nio-8080-exec-7] ERROR c.f.c.e.GlobalExceptionHandler - Unexpected error occurred: ServletOutputStream failed to flush: java.io.IOException: Broken pipe
org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: Broken pipe
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleHttpServletResponse.handleIOException(StandardServletAsyncWebRequest.java:346)
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.flush(StandardServletAsyncWebRequest.java:418)
	at java.base/java.io.FilterOutputStream.flush(FilterOutputStream.java:154)
	at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1205)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1063)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:485)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:126)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:345)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263)
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:304)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:266)
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:133)
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.flush(StandardServletAsyncWebRequest.java:415)
	... 57 common frames omitted
Caused by: java.io.IOException: Broken pipe
	at java.base/sun.nio.ch.SocketDispatcher.write0(Native Method)
	at java.base/sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:62)
	at java.base/sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:137)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:102)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:58)
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:542)
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:125)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:732)
	at org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:698)
	at org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:683)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:574)
	at org.apache.coyote.http11.filters.ChunkedOutputFilter.flush(ChunkedOutputFilter.java:156)
	at org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:216)
	at org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1273)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:408)
	at org.apache.coyote.Response.action(Response.java:208)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:300)
	... 60 common frames omitted
2025-09-29 18:26:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-09-29 18:26:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Internal Server Error, message=An unexpected error occurred, timestamp=2025-09-29T18:26:40.97 (truncated)...]
2025-09-29 18:26:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.m.m.a.DisconnectedClient - Looks like the client has gone away: org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe (For a full stack trace, set the log category 'org.apache.commons.logging.LogAdapter$Slf4jLocationAwareLog@3f08129a' to TRACE level.)
2025-09-29 18:26:40 [http-nio-8080-exec-7] DEBUG o.s.w.s.handler.DisconnectedClient - Looks like the client has gone away: org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: Broken pipe (For a full stack trace, set the log category 'org.apache.commons.logging.LogAdapter$Slf4jLocationAwareLog@68b72b0' to TRACE level.)
2025-09-29 18:26:40 [http-nio-8080-exec-7] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 18:26:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:26:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                 ^
The query used a deprecated function: `id`.
2025-09-29 18:26:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                            ^
The query used a deprecated function: `id`.
2025-09-29 18:26:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (flightInstanceNode:`FlightInstance`) WHERE id(flightInstanceNode) IN $__ids__ OPTIONAL MATCH (flightInstanceNode)-[__sr__:`ARRIVES_AT`]->(__srn__:`Airport`) WITH collect(id(flightInstanceNode)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                                                             ^
The query used a deprecated function: `id`.
2025-09-29 18:26:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                ^
The query used a deprecated function: `id`.
2025-09-29 18:26:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:26:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                  ^
The query used a deprecated function: `id`.
2025-09-29 18:26:41 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	MATCH (airport:`Airport`) WHERE id(airport) IN $__ids__ OPTIONAL MATCH (airport)-[__sr__:`DEPARTS_WITH`]->(__srn__:`FlightInstance`) WITH collect(id(airport)) AS __sn__, collect(id(__srn__)) AS __srn__, collect(id(__sr__)) AS __sr__ RETURN __sn__, __srn__, __sr__
	                                                                                                                                                                                                                   ^
The query used a deprecated function: `id`.
2025-09-29 18:27:24 [FlightBookingHikariCP:housekeeper] WARN  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Thread starvation or clock leap detected (housekeeper delta=1m33s606ms).
2025-09-29 18:27:24 [http-nio-8080-exec-2] ERROR c.f.search.service.ItineraryService - Error calling findConnectingFlights methods: java.lang.OutOfMemoryError: Java heap space
java.lang.RuntimeException: java.lang.OutOfMemoryError: Java heap space
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:281)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy185.findById(Unknown Source)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:130)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.OutOfMemoryError: Java heap space
2025-09-29 18:27:24 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 18:27:24 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 18:27:24 [http-nio-8080-exec-2] ERROR c.f.s.controller.SearchController - Error processing flight search request: Transaction rolled back because it has been marked as rollback-only
org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:938)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:754)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 18:27:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:27:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=3, totalResults (truncated)...]
2025-09-29 18:27:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.flightbooking.common.exception.GlobalExceptionHandler#handleGenericException(Exception)
2025-09-29 18:27:24 [http-nio-8080-exec-2] ERROR c.f.c.e.GlobalExceptionHandler - Unexpected error occurred: ServletOutputStream failed to flush: java.io.IOException: Broken pipe
org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: Broken pipe
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleHttpServletResponse.handleIOException(StandardServletAsyncWebRequest.java:346)
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.flush(StandardServletAsyncWebRequest.java:418)
	at java.base/java.io.FilterOutputStream.flush(FilterOutputStream.java:154)
	at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1205)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1063)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:485)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:126)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:345)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263)
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:304)
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:266)
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:133)
	at org.springframework.web.context.request.async.StandardServletAsyncWebRequest$LifecycleServletOutputStream.flush(StandardServletAsyncWebRequest.java:415)
	... 57 common frames omitted
Caused by: java.io.IOException: Broken pipe
	at java.base/sun.nio.ch.SocketDispatcher.write0(Native Method)
	at java.base/sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:62)
	at java.base/sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:137)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:102)
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:58)
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:542)
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:125)
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1415)
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:732)
	at org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:698)
	at org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:683)
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:574)
	at org.apache.coyote.http11.filters.ChunkedOutputFilter.flush(ChunkedOutputFilter.java:156)
	at org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:216)
	at org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1273)
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:408)
	at org.apache.coyote.Response.action(Response.java:208)
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:300)
	... 60 common frames omitted
2025-09-29 18:27:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-09-29 18:27:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Internal Server Error, message=An unexpected error occurred, timestamp=2025-09-29T18:27:24.31 (truncated)...]
2025-09-29 18:27:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.DisconnectedClient - Looks like the client has gone away: org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe (For a full stack trace, set the log category 'org.apache.commons.logging.LogAdapter$Slf4jLocationAwareLog@3f08129a' to TRACE level.)
2025-09-29 18:27:24 [http-nio-8080-exec-2] DEBUG o.s.w.s.handler.DisconnectedClient - Looks like the client has gone away: org.springframework.web.context.request.async.AsyncRequestNotUsableException: ServletOutputStream failed to flush: java.io.IOException: Broken pipe (For a full stack trace, set the log category 'org.apache.commons.logging.LogAdapter$Slf4jLocationAwareLog@68b72b0' to TRACE level.)
2025-09-29 18:27:24 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 18:31:23 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 18:31:23 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 18:31:23 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 102297786
2025-09-29 18:31:23 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:31:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 18:31:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 18:32:48 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 41474 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 18:32:48 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 18:32:48 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 18:32:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:32:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 107 ms. Found 6 JPA repository interfaces.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 11 ms. Found 3 Neo4j repository interfaces.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 12 ms. Found 0 JDBC repository interfaces.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:32:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Neo4j repository interfaces.
2025-09-29 18:32:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 18:32:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 18:32:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 18:32:50 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 18:32:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1700 ms
2025-09-29 18:32:50 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 18:32:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 18:32:51 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@6afeaf2d
2025-09-29 18:32:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 18:32:51 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 18:32:51 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 18:32:52 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 18:32:52 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 18:32:52 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 18:32:52 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 18:32:54 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 18:32:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:32:55 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 18:32:57 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1354619222 created for server address localhost:7687
2025-09-29 18:32:57 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:32:57 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:32:57 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:32:57 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 18:32:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 18:32:57 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 18:32:58 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 18:32:58 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 18:32:58 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 18:32:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 18:32:58 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 10.724 seconds (process running for 11.121)
2025-09-29 18:33:11 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 18:33:11 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 18:33:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 18:33:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 18:33:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 18:33:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@54cf508a
2025-09-29 18:33:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@7a67d983
2025-09-29 18:33:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 18:33:11 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-09-29 18:33:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=1", parameters={masked}
2025-09-29 18:33:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:33:11 [http-nio-8080-exec-1] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 18:33:11 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 1 passengers
2025-09-29 18:33:11 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:33:11 [http-nio-8080-exec-1] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 18:33:11 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 18:33:11 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 18:33:11 [http-nio-8080-exec-1] INFO  c.f.search.service.ItineraryService - Testing findConnectingFlightsFirstLegIds for JFK -> RIC on 2025-10-01T00:00Z
2025-09-29 18:33:12 [http-nio-8080-exec-1] ERROR c.f.search.service.ItineraryService - Error calling findConnectingFlights methods: Invalid input 'BY': expected 'FOREACH', ',', 'ORDER BY', 'CALL', 'CREATE', 'LOAD CSV', 'DELETE', 'DETACH', 'FINISH', 'INSERT', 'LIMIT', 'MATCH', 'MERGE', 'NODETACH', 'OFFSET', 'OPTIONAL', 'REMOVE', 'RETURN', 'SET', 'SKIP', 'UNION', 'UNWIND', 'USE', 'WITH' or <EOF> (line 1, column 399 (offset: 398))
"MATCH (f1:FlightInstance)-[:ARRIVES_AT]->(a:Airport)-[:DEPARTS_WITH]->(f2:FlightInstance) WHERE f1.source = $source AND f2.destination = $destination AND f1.status = 'ACTIVE' AND f2.status = 'ACTIVE' AND date(f1.departureTime) = date($departureDate) AND f1.arrivalTime + duration('PT45M') <= f2.departureTime AND f1.arrivalTime + duration('P1D') >= f2.departureTime RETURN [f1, f2] AS flightsORDER BY (f1.priceMoney + f2.priceMoney)"
                                                                                                                                                                                                                                                                                                                                                                                                               ^; Error code 'Neo.ClientError.Statement.SyntaxError'
2025-09-29 18:33:12 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 18:33:12 [http-nio-8080-exec-1] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 18:33:12 [http-nio-8080-exec-1] ERROR c.f.s.controller.SearchController - Error processing flight search request: Transaction rolled back because it has been marked as rollback-only
org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:938)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:754)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 18:33:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:33:12 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=1, totalResults (truncated)...]
2025-09-29 18:33:12 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 18:36:32 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 18:36:32 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 18:36:32 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1354619222
2025-09-29 18:36:33 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:36:33 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 18:36:33 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 18:36:57 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 42365 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 18:36:57 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 18:36:57 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 18:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:36:59 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 18:37:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 377 ms. Found 6 JPA repository interfaces.
2025-09-29 18:37:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:37:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:37:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 14 ms. Found 3 Neo4j repository interfaces.
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 JDBC repository interfaces.
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 8 ms. Found 0 Neo4j repository interfaces.
2025-09-29 18:37:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 18:37:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 18:37:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 18:37:02 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 18:37:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4652 ms
2025-09-29 18:37:03 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 18:37:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 18:37:04 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@5ba184fc
2025-09-29 18:37:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 18:37:04 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 18:37:04 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 18:37:04 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 18:37:05 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 18:37:05 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 18:37:05 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 18:37:08 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 18:37:12 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:37:13 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 18:37:21 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 362040910 created for server address localhost:7687
2025-09-29 18:37:21 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:37:22 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:37:22 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:37:22 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 18:37:22 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 18:37:23 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 18:37:23 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 18:37:23 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 18:37:24 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 18:37:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 18:37:25 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 28.62 seconds (process running for 29.629)
2025-09-29 18:37:29 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 18:37:29 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 18:37:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 18:37:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 18:37:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 18:37:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@113d2a24
2025-09-29 18:37:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@46b70adb
2025-09-29 18:37:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 18:37:29 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 27 ms
2025-09-29 18:37:29 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=3", parameters={masked}
2025-09-29 18:37:29 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:37:29 [http-nio-8080-exec-2] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:37:29 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:37:30 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:37:30 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 18:37:30 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 18:37:30 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 18:37:30 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Testing findConnectingFlightsFirstLegIds for JFK -> RIC on 2025-10-01T00:00Z
2025-09-29 18:37:31 [http-nio-8080-exec-2] WARN  o.s.d.n.c.Neo4jPersistenceExceptionTranslator - Don't know how to translate exception of type class org.springframework.core.convert.ConversionFailedException
2025-09-29 18:37:31 [http-nio-8080-exec-2] ERROR c.f.search.service.ItineraryService - Error calling findConnectingFlights methods: Failed to convert from type [org.neo4j.driver.internal.value.ListValue] to type [java.util.Map<?, ?>] for value [org.neo4j.driver.internal.value.ListValue@9f7f123]
2025-09-29 18:37:31 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 18:37:31 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 18:37:31 [http-nio-8080-exec-2] ERROR c.f.s.controller.SearchController - Error processing flight search request: Transaction rolled back because it has been marked as rollback-only
org.springframework.transaction.UnexpectedRollbackException: Transaction rolled back because it has been marked as rollback-only
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:938)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:754)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 18:37:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:37:31 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=3, totalResults (truncated)...]
2025-09-29 18:37:31 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 18:39:15 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 18:39:15 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 18:39:15 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 362040910
2025-09-29 18:39:16 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:39:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 18:39:16 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 18:39:44 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 42869 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 18:39:44 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 18:39:44 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 18:39:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:39:46 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 18:39:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 448 ms. Found 6 JPA repository interfaces.
2025-09-29 18:39:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:39:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:39:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 3 Neo4j repository interfaces.
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 0 JDBC repository interfaces.
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:39:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 0 Neo4j repository interfaces.
2025-09-29 18:39:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 18:39:50 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 18:39:50 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 18:39:50 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 18:39:50 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5797 ms
2025-09-29 18:39:50 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 18:39:50 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 18:39:51 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@14292d71
2025-09-29 18:39:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 18:39:51 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 18:39:51 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 18:39:51 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 18:39:51 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 18:39:51 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 18:39:51 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 18:39:53 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 18:39:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:39:54 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 18:39:57 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 1205534547 created for server address localhost:7687
2025-09-29 18:39:57 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:39:57 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:39:57 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:39:57 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 18:39:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 18:39:57 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 18:39:57 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 18:39:57 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 18:39:58 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 18:39:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 18:39:58 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 15.721 seconds (process running for 17.832)
2025-09-29 18:40:11 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 18:40:11 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 18:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 18:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 18:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 18:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@763ee217
2025-09-29 18:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@3782e08a
2025-09-29 18:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 18:40:11 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 6 ms
2025-09-29 18:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=3", parameters={masked}
2025-09-29 18:40:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:40:11 [http-nio-8080-exec-1] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:40:11 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:40:11 [http-nio-8080-exec-1] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:40:11 [http-nio-8080-exec-1] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 18:40:11 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 18:40:11 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 18:40:11 [http-nio-8080-exec-1] INFO  c.f.search.service.ItineraryService - Testing findConnectingFlightsFirstLegIds for JFK -> RIC on 2025-10-01T00:00Z
2025-09-29 18:40:11 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Found 1 total paths from Neo4j graph traversal
2025-09-29 18:40:11 [http-nio-8080-exec-1] DEBUG c.f.search.service.ItineraryService - Processing path with 2 flights, length: 2
2025-09-29 18:40:11 [http-nio-8080-exec-1] ERROR c.f.s.controller.SearchController - Error processing flight search request: class org.neo4j.driver.internal.InternalNode cannot be cast to class com.flightbooking.search.entity.FlightInstanceNode (org.neo4j.driver.internal.InternalNode and com.flightbooking.search.entity.FlightInstanceNode are in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @2a84aee7)
java.lang.ClassCastException: class org.neo4j.driver.internal.InternalNode cannot be cast to class com.flightbooking.search.entity.FlightInstanceNode (org.neo4j.driver.internal.InternalNode and com.flightbooking.search.entity.FlightInstanceNode are in unnamed module of loader org.springframework.boot.loader.launch.LaunchedClassLoader @2a84aee7)
	at com.flightbooking.search.service.ItineraryService.isValidFlightSequence(ItineraryService.java:165)
	at com.flightbooking.search.service.ItineraryService.lambda$createItineraries$0(ItineraryService.java:143)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1602)
	at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129)
	at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at com.flightbooking.search.service.ItineraryService.createItineraries(ItineraryService.java:153)
	at com.flightbooking.search.service.ItineraryService.generateItineraries(ItineraryService.java:73)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.ItineraryService$$SpringCGLIB$$0.generateItineraries(<generated>)
	at com.flightbooking.search.service.FlightSearchService.searchFlights(FlightSearchService.java:57)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:360)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at com.flightbooking.search.service.FlightSearchService$$SpringCGLIB$$0.searchFlights(<generated>)
	at com.flightbooking.search.controller.SearchController.searchFlights(SearchController.java:54)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
2025-09-29 18:40:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:40:11 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=3, totalResults (truncated)...]
2025-09-29 18:40:11 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
2025-09-29 18:45:30 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-09-29 18:45:30 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-09-29 18:45:30 [SpringApplicationShutdownHook] INFO  o.n.driver.internal.InternalDriver - Closing driver instance 1205534547
2025-09-29 18:45:30 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:45:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown initiated...
2025-09-29 18:45:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Shutdown completed.
2025-09-29 18:46:12 [main] INFO  com.flightbooking.DemoApplication - Starting DemoApplication v0.0.1-SNAPSHOT using Java 20.0.1 with PID 43780 (/Users/pratyakshsahu/Desktop/cursor/flightBooking/target/demo-0.0.1-SNAPSHOT.jar started by pratyakshsahu in /Users/pratyakshsahu/Desktop/cursor/flightBooking)
2025-09-29 18:46:12 [main] DEBUG com.flightbooking.DemoApplication - Running with Spring Boot v3.5.6, Spring v6.2.11
2025-09-29 18:46:12 [main] INFO  com.flightbooking.DemoApplication - The following 1 profile is active: "dev"
2025-09-29 18:46:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:46:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-09-29 18:46:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 121 ms. Found 6 JPA repository interfaces.
2025-09-29 18:46:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:46:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:46:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 9 ms. Found 3 Neo4j repository interfaces.
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JDBC repositories in DEFAULT mode.
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.AirportRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.FlightInstanceNodeRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data JDBC - Could not safely identify store assignment for repository candidate interface com.flightbooking.search.repository.ItineraryRepository; If you want this repository to be a JDBC repository, consider annotating your entities with one of these annotations: org.springframework.data.relational.core.mapping.Table.
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 JDBC repository interfaces.
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Neo4j repositories in DEFAULT mode.
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.FlightInstanceRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.OutboxEventRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatHoldRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.SeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Neo4j - Could not safely identify store assignment for repository candidate interface com.flightbooking.booking.repository.TicketSeatRepository; If you want this repository to be a Neo4j repository, consider annotating your entities with one of these annotations: org.springframework.data.neo4j.core.schema.Node, org.springframework.data.neo4j.core.schema.RelationshipProperties (preferred), or consider extending one of the following types with your repository: org.springframework.data.neo4j.repository.ReactiveNeo4jRepository
2025-09-29 18:46:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 3 ms. Found 0 Neo4j repository interfaces.
2025-09-29 18:46:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-09-29 18:46:14 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-09-29 18:46:14 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-09-29 18:46:14 [main] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring embedded WebApplicationContext
2025-09-29 18:46:14 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1953 ms
2025-09-29 18:46:14 [main] DEBUG o.s.w.f.ServerHttpObservationFilter - Filter 'webMvcObservationFilter' configured for use
2025-09-29 18:46:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Starting...
2025-09-29 18:46:14 [main] INFO  com.zaxxer.hikari.pool.HikariPool - FlightBookingHikariCP - Added connection org.postgresql.jdbc.PgConnection@405d8a80
2025-09-29 18:46:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - FlightBookingHikariCP - Start completed.
2025-09-29 18:46:14 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-09-29 18:46:15 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-09-29 18:46:15 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-09-29 18:46:15 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-09-29 18:46:15 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-09-29 18:46:15 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (FlightBookingHikariCP)']
	Database driver: undefined/unknown
	Database version: 15.14
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-09-29 18:46:16 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-09-29 18:46:16 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-09-29 18:46:17 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-09-29 18:46:18 [main] INFO  o.n.driver.internal.DriverFactory - Direct driver instance 506111696 created for server address localhost:7687
2025-09-29 18:46:18 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.DepartsWith is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:46:18 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.ArrivesAt is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:46:18 [main] WARN  o.s.d.n.c.m.Neo4jPersistentEntity - The entity com.flightbooking.search.entity.relationship.IncludesLeg is using a Long value for storing internally generated Neo4j ids. The Neo4j internal Long Ids are deprecated, please consider using an external ID generator.
2025-09-29 18:46:18 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-09-29 18:46:18 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 10 mappings in 'requestMappingHandlerMapping'
2025-09-29 18:46:19 [main] DEBUG o.s.w.s.h.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2025-09-29 18:46:19 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2025-09-29 18:46:19 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2025-09-29 18:46:19 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 7 endpoints beneath base path '/actuator'
2025-09-29 18:46:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/api'
2025-09-29 18:46:19 [main] INFO  com.flightbooking.DemoApplication - Started DemoApplication in 7.976 seconds (process running for 8.575)
2025-09-29 18:46:25 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[.[localhost].[/api] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-09-29 18:46:25 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-09-29 18:46:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
2025-09-29 18:46:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
2025-09-29 18:46:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver
2025-09-29 18:46:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@378f09a
2025-09-29 18:46:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4cd9e486
2025-09-29 18:46:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2025-09-29 18:46:25 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 5 ms
2025-09-29 18:46:25 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=RIC&departureDate=2025-10-01&passengerCount=3", parameters={masked}
2025-09-29 18:46:25 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:46:25 [http-nio-8080-exec-2] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:46:25 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to RIC on 2025-10-01 for 3 passengers
2025-09-29 18:46:25 [http-nio-8080-exec-2] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:46:25 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to RIC on 2025-10-01
2025-09-29 18:46:25 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to RIC on 2025-10-01 (max 2 stops)
2025-09-29 18:46:25 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> RIC on 2025-10-01
2025-09-29 18:46:25 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Testing findConnectingFlightsFirstLegIds for JFK -> RIC on 2025-10-01T00:00Z
2025-09-29 18:46:25 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Found 1 total paths from Neo4j graph traversal
2025-09-29 18:46:25 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Processing path with 2 flights, length: 2
2025-09-29 18:46:25 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Flight seats debug - Flight IDs: [1, 249], Available seats: [50, 50]
2025-09-29 18:46:25 [http-nio-8080-exec-2] DEBUG c.f.search.service.ItineraryService - Generated flightLegsHash: 7eff94efbdec182a0a0df49595bc9c44
2025-09-29 18:46:25 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Saving 1 generated itineraries to cache
2025-09-29 18:46:25 [http-nio-8080-exec-2] WARN  o.s.d.n.c.m.DefaultNeo4jIsNewStrategy - Instances of class com.flightbooking.search.entity.Itinerary with an assigned id will always be treated as new without version property
2025-09-29 18:46:26 [http-nio-8080-exec-2] WARN  o.s.data.neo4j.cypher.deprecation - Neo.ClientNotification.Statement.FeatureDeprecationWarning: This feature is deprecated and will be removed in future versions.
	UNWIND $__entities__ AS entity MERGE (itinerary:`Itinerary` {id: entity.__id__}) SET itinerary += entity.__properties__ RETURN id(itinerary) AS __elementId__, itinerary.id AS __id__
	                                                                                                                               ^
The query used a deprecated function: `id`.
2025-09-29 18:46:26 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Successfully saved 1 unique itineraries
2025-09-29 18:46:26 [http-nio-8080-exec-2] INFO  c.f.search.service.ItineraryService - Generated 1 itineraries using hybrid approach
2025-09-29 18:46:26 [http-nio-8080-exec-2] INFO  c.f.s.controller.SearchController - Search completed successfully. Found 1 flight options
2025-09-29 18:46:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:46:26 [http-nio-8080-exec-2] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=RIC, departureDate=2025-10-01, passengerCount=3, totalResults (truncated)...]
2025-09-29 18:46:26 [http-nio-8080-exec-2] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-29 18:46:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=JFK&destination=LAX&departureDate=2025-10-01&passengerCount=3", parameters={masked}
2025-09-29 18:46:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:46:46 [http-nio-8080-exec-3] INFO  c.f.s.controller.SearchController - Received flight search request: JFK to LAX on 2025-10-01 for 3 passengers
2025-09-29 18:46:46 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - Starting flight search: JFK to LAX on 2025-10-01 for 3 passengers
2025-09-29 18:46:46 [http-nio-8080-exec-3] INFO  c.f.s.service.FlightSearchService - No cached itineraries found, generating new ones
2025-09-29 18:46:46 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Generating itineraries using hybrid graph traversal: JFK to LAX on 2025-10-01
2025-09-29 18:46:46 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Creating itineraries: JFK to LAX on 2025-10-01 (max 2 stops)
2025-09-29 18:46:46 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 direct flights for JFK -> LAX on 2025-10-01
2025-09-29 18:46:46 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Testing findConnectingFlightsFirstLegIds for JFK -> LAX on 2025-10-01T00:00Z
2025-09-29 18:46:46 [http-nio-8080-exec-3] DEBUG c.f.search.service.ItineraryService - Found 0 total paths from Neo4j graph traversal
2025-09-29 18:46:46 [http-nio-8080-exec-3] INFO  c.f.search.service.ItineraryService - Generated 0 itineraries using hybrid approach
2025-09-29 18:46:46 [http-nio-8080-exec-3] INFO  c.f.s.controller.SearchController - Search completed successfully. Found 0 flight options
2025-09-29 18:46:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:46:46 [http-nio-8080-exec-3] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=JFK, destination=LAX, departureDate=2025-10-01, passengerCount=3, totalResults (truncated)...]
2025-09-29 18:46:46 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-29 18:47:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - GET "/api/v1/search/flights?source=MAD&destination=DTW&departureDate=2025-10-22&passengerCount=3", parameters={masked}
2025-09-29 18:47:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.search.controller.SearchController#searchFlights(SearchRequest)
2025-09-29 18:47:21 [http-nio-8080-exec-6] INFO  c.f.s.controller.SearchController - Received flight search request: MAD to DTW on 2025-10-22 for 3 passengers
2025-09-29 18:47:21 [http-nio-8080-exec-6] INFO  c.f.s.service.FlightSearchService - Starting flight search: MAD to DTW on 2025-10-22 for 3 passengers
2025-09-29 18:47:21 [http-nio-8080-exec-6] INFO  c.f.s.service.FlightSearchService - Found 1 cached itineraries for search
2025-09-29 18:47:21 [http-nio-8080-exec-6] INFO  c.f.s.controller.SearchController - Search completed successfully. Found 1 flight options
2025-09-29 18:47:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:47:21 [http-nio-8080-exec-6] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [SearchResponse(source=MAD, destination=DTW, departureDate=2025-10-22, passengerCount=3, totalResults (truncated)...]
2025-09-29 18:47:21 [http-nio-8080-exec-6] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-29 18:48:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - POST "/api/v1/payment/process", parameters={}
2025-09-29 18:48:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.flightbooking.booking.controller.PaymentController#processPayment(PaymentRequest)
2025-09-29 18:48:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [PaymentRequest(paymentId=pay_a0bb683103154e45, paymentStatus=SUCCESS, paymentMethod=null, paymentPro (truncated)...]
2025-09-29 18:48:32 [http-nio-8080-exec-10] INFO  c.f.b.controller.PaymentController - Received payment processing request: payment ID pay_a0bb683103154e45, status SUCCESS, session {}
2025-09-29 18:48:32 [http-nio-8080-exec-10] INFO  c.f.booking.service.BookingService - Processing payment pay_a0bb683103154e45 with status SUCCESS for session {}
2025-09-29 18:48:32 [http-nio-8080-exec-10] INFO  c.f.booking.service.BookingService - Processing successful payment pay_a0bb683103154e45
2025-09-29 18:48:32 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        t1_0.id,
        t1_0.created_at,
        t1_0.flight_instance_id,
        t1_0.holder_user_id,
        t1_0.payment_id,
        t1_0.session_id,
        t1_0.status,
        t1_0.total_amount,
        t1_0.version 
    from
        ticket t1_0 
    where
        t1_0.payment_id=?
2025-09-29 18:48:32 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - 
    select
        sh1_0.id,
        sh1_0.created_at,
        sh1_0.expires_at,
        sh1_0.flight_instance_id,
        sh1_0.holder_session_id,
        sh1_0.seat_id,
        sh1_0.version 
    from
        seat_hold sh1_0 
    where
        sh1_0.holder_session_id=? 
        and sh1_0.expires_at>?
2025-09-29 18:48:32 [http-nio-8080-exec-10] ERROR c.f.booking.service.BookingService - Failed to process payment pay_a0bb683103154e45: No active seat holds found for session: Payment will be refunded to account  sess_1759143058168_e033ab5a
2025-09-29 18:48:32 [http-nio-8080-exec-10] ERROR c.f.b.controller.PaymentController - Error processing payment request for payment ID pay_a0bb683103154e45: Payment processing failed: No active seat holds found for session: Payment will be refunded to account  sess_1759143058168_e033ab5a
java.lang.RuntimeException: Payment processing failed: No active seat holds found for session: Payment will be refunded to account  sess_1759143058168_e033ab5a
	at com.flightbooking.booking.service.BookingService.processPayment(BookingService.java:141)
	at com.flightbooking.booking.controller.PaymentController.processPayment(PaymentController.java:49)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: java.lang.RuntimeException: No active seat holds found for session: Payment will be refunded to account  sess_1759143058168_e033ab5a
	at com.flightbooking.booking.service.BookingService.handlePaymentSuccess(BookingService.java:166)
	at com.flightbooking.booking.service.BookingService.processPayment(BookingService.java:134)
	... 53 common frames omitted
2025-09-29 18:48:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2025-09-29 18:48:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [PaymentResponse(status=failed, message=Internal server error occurred during payment processing, pay (truncated)...]
2025-09-29 18:48:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.flightbooking.common.exception.GlobalExceptionHandler#handleRuntimeException(RuntimeException)
2025-09-29 18:48:32 [http-nio-8080-exec-10] ERROR c.f.c.e.GlobalExceptionHandler - Runtime error occurred: Could not write JSON: Cannot invoke "java.lang.Long.longValue()" because "this.totalAmount" is null
org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Cannot invoke "java.lang.Long.longValue()" because "this.totalAmount" is null
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:494)
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:126)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:345)
	at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:263)
	at org.springframework.web.servlet.mvc.method.annotation.ResponseEntityReturnValueHandler.handleReturnValue(ResponseEntityReturnValueHandler.java:79)
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:136)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:991)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:896)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:110)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1623)
Caused by: com.fasterxml.jackson.databind.JsonMappingException: Cannot invoke "java.lang.Long.longValue()" because "this.totalAmount" is null (through reference chain: com.flightbooking.booking.dto.PaymentResponse["totalAmountAsBigDecimal"])
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:400)
	at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:359)
	at com.fasterxml.jackson.databind.ser.std.StdSerializer.wrapAndThrow(StdSerializer.java:324)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:765)
	at com.fasterxml.jackson.databind.ser.BeanSerializer.serialize(BeanSerializer.java:183)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:342)
	at com.fasterxml.jackson.databind.ObjectWriter$Prefetch.serialize(ObjectWriter.java:1587)
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1061)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:485)
	... 53 common frames omitted
Caused by: java.lang.NullPointerException: Cannot invoke "java.lang.Long.longValue()" because "this.totalAmount" is null
	at com.flightbooking.booking.dto.PaymentResponse.getTotalAmountAsBigDecimal(PaymentResponse.java:40)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)
	at java.base/java.lang.reflect.Method.invoke(Method.java:578)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:688)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	... 59 common frames omitted
2025-09-29 18:48:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Found 'Content-Type:application/json' in response
2025-09-29 18:48:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [{error=Internal Server Error, message=An unexpected error occurred, timestamp=2025-09-29T18:48:32.47 (truncated)...]
2025-09-29 18:48:32 [http-nio-8080-exec-10] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Cannot invoke "java.lang.Long.longValue()" because "this.totalAmount" is null]
2025-09-29 18:48:32 [http-nio-8080-exec-10] DEBUG o.s.web.servlet.DispatcherServlet - Completed 500 INTERNAL_SERVER_ERROR
